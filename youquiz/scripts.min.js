function sendRequest(e,t,n){var r=createXMLHTTPObject();if(r){var a=n?"POST":"GET";r.open(a,e,!0),r.setRequestHeader("User-Agent","XMLHTTP/1.0"),n&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||304==r.status)&&t(r)},4!=r.readyState&&r.send(n)}}function createXMLHTTPObject(){for(var e=!1,t=0;t<XMLHttpFactories.length;t++){try{e=XMLHttpFactories[t]()}catch(n){continue}break}return e}(function(){var e,t,n,r,a,i,s,o,l,c,u,h,d,f,_,p,g,m,v,y,b,w,x,k,S,T,M,C,D,P,A,Y,q,N,O,F,j,E,L,I,G,U,B,H,z,R,$,W,X,V=[].slice,Z={}.hasOwnProperty,J=function(e,t){function n(){this.constructor=e}for(var r in t)Z.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Q=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},D=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==A&&(A=function(e){return setTimeout(e,50)},y=function(e){return clearTimeout(e)}),q=function(e){var t,n;return t=D(),(n=function(){var r;return r=D()-t,r>=33?(t=D(),e(r,function(){return A(n)})):setTimeout(n,33-r)})()},Y=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?V.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},w=function(){var e,t,n,r,a,i,s;for(t=arguments[0],r=2<=arguments.length?V.call(arguments,1):[],i=0,s=r.length;s>i;i++)if(n=r[i])for(e in n)Z.call(n,e)&&(a=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=a&&"object"==typeof a?w(t[e],a):t[e]=a);return t},g=function(e){var t,n,r,a,i;for(n=t=0,a=0,i=e.length;i>a;a++)r=e[a],n+=Math.abs(r),t++;return n/t},k=function(e,t){var n,r,a;if(null==e&&(e="options"),null==t&&(t=!0),a=document.querySelector("[data-pace-"+e+"]")){if(n=a.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(i){return r=i,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},s=function(){function e(){}return e.prototype.on=function(e,t,n,r){var a;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(a=this.bindings)[e]&&(a[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,a;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,a=[];n<this.bindings[e].length;)a.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return a}},e.prototype.trigger=function(){var e,t,n,r,a,i,s,o,l;if(n=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(a=0,l=[];a<this.bindings[n].length;)o=this.bindings[n][a],r=o.handler,t=o.ctx,i=o.once,r.apply(null!=t?t:this,e),l.push(i?this.bindings[n].splice(a,1):a++);return l}},e}(),c=window.Pace||{},window.Pace=c,w(c,s.prototype),P=c.options=w({},b,window.paceOptions,k()),$=["ajax","document","eventLag","elements"],B=0,z=$.length;z>B;B++)j=$[B],P[j]===!0&&(P[j]=b[j]);l=function(e){function t(){return W=t.__super__.constructor.apply(this,arguments)}return J(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(P.target),!e)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t,n,r,a,i,s;if(null==document.querySelector(P.target))return!1;for(e=this.getElement(),r="translate3d("+this.progress+"%, 0, 0)",s=["webkitTransform","msTransform","transform"],a=0,i=s.length;i>a;a++)t=s[a],e.children[0].style[t]=r;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),e.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),o=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,r,a,i,s;if(null!=this.bindings[e]){for(i=this.bindings[e],s=[],r=0,a=i.length;a>r;r++)n=i[r],s.push(n.call(this,t));return s}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),U=window.XMLHttpRequest,G=window.XDomainRequest,I=window.WebSocket,x=function(e,t){var n,r,a,i;i=[];for(r in t.prototype)try{a=t.prototype[r],i.push(null==e[r]&&"function"!=typeof a?e[r]=a:void 0)}catch(s){n=s}return i},M=[],c.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],M.unshift("ignore"),n=t.apply(null,e),M.shift(),n},c.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],M.unshift("track"),n=t.apply(null,e),M.shift(),n},F=function(e){var t;if(null==e&&(e="GET"),"track"===M[0])return"force";if(!M.length&&P.ajax){if("socket"===e&&P.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),Q.call(P.ajax.trackMethods,t)>=0)return!0}return!1},u=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(r,a){return F(r)&&n.trigger("request",{type:r,url:a,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new U(t),e(n),n};try{x(window.XMLHttpRequest,U)}catch(r){}if(null!=G){window.XDomainRequest=function(){var t;return t=new G,e(t),t};try{x(window.XDomainRequest,G)}catch(r){}}if(null!=I&&P.ajax.trackWebSockets){window.WebSocket=function(e,t){var r;return r=null!=t?new I(e,t):new I(e),F("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:r}),r};try{x(window.WebSocket,I)}catch(r){}}}return J(t,e),t}(o),H=null,S=function(){return null==H&&(H=new u),H},O=function(e){var t,n,r,a;for(a=P.ajax.ignoreURLs,n=0,r=a.length;r>n;n++)if(t=a[n],"string"==typeof t){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},S().on("request",function(t){var n,r,a,i,s;return i=t.type,a=t.request,s=t.url,O(s)?void 0:c.running||P.restartOnRequestAfter===!1&&"force"!==F(i)?void 0:(r=arguments,n=P.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var t,n,s,o,l,u;if(t="socket"===i?a.readyState<2:0<(o=a.readyState)&&4>o){for(c.restart(),l=c.sources,u=[],n=0,s=l.length;s>n;n++){if(j=l[n],j instanceof e){j.watch.apply(j,r);break}u.push(void 0)}return u}},n))}),e=function(){function e(){var e=this;this.elements=[],S().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,r,a;return r=e.type,t=e.request,a=e.url,O(a)?void 0:(n="socket"===r?new f(t):new _(t),this.elements.push(n))},e}(),_=function(){function e(e){var t,n,r,a,i,s,o=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,e.addEventListener("progress",function(e){return o.progress=e.lengthComputable?100*e.loaded/e.total:o.progress+(100-o.progress)/2},!1),s=["load","abort","timeout","error"],r=0,a=s.length;a>r;r++)t=s[r],e.addEventListener(t,function(){return o.progress=100},!1);else i=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?o.progress=100:3===e.readyState&&(o.progress=50),"function"==typeof i?i.apply(null,arguments):void 0}}return e}(),f=function(){function e(e){var t,n,r,a,i=this;for(this.progress=0,a=["error","open"],n=0,r=a.length;r>n;n++)t=a[n],e.addEventListener(t,function(){return i.progress=100},!1)}return e}(),r=function(){function e(e){var t,n,r,i;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),i=e.selectors,n=0,r=i.length;r>n;n++)t=i[n],this.elements.push(new a(t))}return e}(),a=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},P.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),i=function(){function e(){var e,t,n,r,a,i=this;this.progress=0,e=0,a=[],r=0,n=D(),t=setInterval(function(){var s;return s=D()-n-50,n=D(),a.push(s),a.length>P.eventLag.sampleCount&&a.shift(),e=g(a),++r>=P.eventLag.minSamples&&e<P.eventLag.lagThreshold?(i.progress=100,clearInterval(t)):i.progress=100*(3/(e+3))},50)}return e}(),d=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=P.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=Y(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=Y(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/P.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,P.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+P.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),E=null,N=null,m=null,L=null,p=null,v=null,c.running=!1,T=function(){return P.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(R=window.history.pushState,window.history.pushState=function(){return T(),R.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return T(),X.apply(window.history,arguments)}),h={ajax:e,elements:r,document:n,eventLag:i},(C=function(){var e,n,r,a,i,s,o,l;for(c.sources=E=[],s=["ajax","elements","document","eventLag"],n=0,a=s.length;a>n;n++)e=s[n],P[e]!==!1&&E.push(new h[e](P[e]));for(l=null!=(o=P.extraSources)?o:[],r=0,i=l.length;i>r;r++)j=l[r],E.push(new j(P));return c.bar=m=new t,N=[],L=new d})(),c.stop=function(){return c.trigger("stop"),c.running=!1,m.destroy(),v=!0,null!=p&&("function"==typeof y&&y(p),p=null),C()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,m.render(),e=D(),v=!1,p=q(function(t,n){var r,a,i,s,o,l,u,h,f,_,p,g,y,b,w,x;for(h=100-m.progress,a=p=0,i=!0,l=g=0,b=E.length;b>g;l=++g)for(j=E[l],_=null!=N[l]?N[l]:N[l]=[],o=null!=(x=j.elements)?x:[j],u=y=0,w=o.length;w>y;u=++y)s=o[u],f=null!=_[u]?_[u]:_[u]=new d(s),i&=f.done,f.done||(a++,p+=f.tick(t));return r=p/a,m.update(L.tick(t,r)),m.done()||i||v?(m.update(100),c.trigger("done"),setTimeout(function(){return m.finish(),c.running=!1,c.trigger("hide")},Math.max(P.ghostTime,Math.max(P.minTime-(D()-e),0)))):n()})},c.start=function(e){w(P,e),c.running=!0;try{m.render()}catch(t){l=t}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof exports?module.exports=c:P.startOnPageLoad&&c.start()}).call(this),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Cn.apply(null,arguments)}function t(e){Cn=e}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function i(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Se(e,t,n,r,!0).utc()}function c(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&void 0===e._pf.bigHour)),e._isValid}function u(e){var t=l(NaN);return null!=e?o(t._pf,e):t._pf.userInvalidated=!0,t}function h(e,t){var n,r,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pn.length>0)for(n in Pn)r=Pn[n],a=t[r],"undefined"!=typeof a&&(e[r]=a);return e}function d(t){h(this,t),this._d=new Date(+t._d),An===!1&&(An=!0,e.updateOffset(this),An=!1)}function f(e){return e instanceof d||null!=e&&s(e,"_isAMomentObject")}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function p(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(r=0;a>r;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&s++;return s+i}function g(){}function m(e){return e?e.toLowerCase().replace("_","-"):e}function v(e){for(var t,n,r,a,i=0;i<e.length;){for(a=m(e[i]).split("-"),t=a.length,n=m(e[i+1]),n=n?n.split("-"):null;t>0;){if(r=y(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&p(a,n,!0)>=t-1)break;t--}i++}return null}function y(e){var t=null;if(!Yn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Dn._abbr,require("./locale/"+e),b(t)}catch(n){}return Yn[e]}function b(e,t){var n;return e&&(n="undefined"==typeof t?x(e):w(e,t),n&&(Dn=n)),Dn._abbr}function w(e,t){return null!==t?(t.abbr=e,Yn[e]||(Yn[e]=new g),Yn[e].set(t),b(e),Yn[e]):(delete Yn[e],null)}function x(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Dn;if(!r(e)){if(t=y(e))return t;e=[e]}return v(e)}function k(e,t){var n=e.toLowerCase();qn[n]=qn[n+"s"]=qn[t]=e}function S(e){return"string"==typeof e?qn[e]||qn[e.toLowerCase()]:void 0}function T(e){var t,n,r={};for(n in e)s(e,n)&&(t=S(n),t&&(r[t]=e[n]));return r}function M(t,n){return function(r){return null!=r?(D(this,t,r),e.updateOffset(this,n),this):C(this,t)}}function C(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function D(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=S(e),"function"==typeof this[e])return this[e](t);return this}function A(e,t,n){for(var r=""+Math.abs(e),a=e>=0;r.length<t;)r="0"+r;return(a?n?"+":"":"-")+r}function Y(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(jn[e]=a),t&&(jn[t[0]]=function(){return A(a.apply(this,arguments),t[1],t[2])}),n&&(jn[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,r=e.match(Nn);for(t=0,n=r.length;n>t;t++)r[t]=jn[r[t]]?jn[r[t]]:q(r[t]);return function(a){var i="";for(t=0;n>t;t++)i+=r[t]instanceof Function?r[t].call(a,e):r[t];return i}}function O(e,t){return e.isValid()?(t=F(t,e.localeData()),Fn[t]||(Fn[t]=N(t)),Fn[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(On.lastIndex=0;r>=0&&On.test(e);)e=e.replace(On,n),On.lastIndex=0,r-=1;return e}function j(e,t,n){Jn[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function E(e,t){return s(Jn,e)?Jn[e](t._strict,t._locale):new RegExp(L(e))}function L(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function I(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)Qn[e[n]]=r}function G(e,t){I(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function U(e,t,n){null!=t&&s(Qn,e)&&Qn[e](t,n._a,n,e)}function B(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function H(e){return this._months[e.month()]}function z(e){return this._monthsShort[e.month()]}function R(e,t,n){var r,a,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(a=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function $(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),B(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function W(t){return null!=t?($(this,t),e.updateOffset(this,!0),this):C(this,"Month")}function X(){return B(this.year(),this.month())}function V(e){var t,n=e._a;return n&&-2===e._pf.overflow&&(t=n[er]<0||n[er]>11?er:n[tr]<1||n[tr]>B(n[Kn],n[er])?tr:n[nr]<0||n[nr]>24||24===n[nr]&&(0!==n[rr]||0!==n[ar]||0!==n[ir])?nr:n[rr]<0||n[rr]>59?rr:n[ar]<0||n[ar]>59?ar:n[ir]<0||n[ir]>999?ir:-1,e._pf._overflowDayOfYear&&(Kn>t||t>tr)&&(t=tr),e._pf.overflow=t),e}function Z(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function J(e,t){var n=!0;return o(function(){return n&&(Z(e),n=!1),t.apply(this,arguments)},t)}function Q(e,t){lr[e]||(Z(t),lr[e]=!0)}function K(e){var t,n,r=e._i,a=cr.exec(r);if(a){for(e._pf.iso=!0,t=0,n=ur.length;n>t;t++)if(ur[t][1].exec(r)){e._f=ur[t][0]+(a[6]||" ");break}for(t=0,n=hr.length;n>t;t++)if(hr[t][1].exec(r)){e._f+=hr[t][0];break}r.match(Xn)&&(e._f+="Z"),ve(e)}else e._isValid=!1}function ee(t){var n=dr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(K(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function te(e,t,n,r,a,i,s){var o=new Date(e,t,n,r,a,i,s);return 1970>e&&o.setFullYear(e),o}function ne(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function re(e){return ae(e)?366:365}function ae(e){return e%4===0&&e%100!==0||e%400===0}function ie(){return ae(this.year())}function se(e,t,n){var r,a=n-t,i=n-e.day();return i>a&&(i-=7),a-7>i&&(i+=7),r=Te(e).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function oe(e){return se(e,this._week.dow,this._week.doy).week}function le(){return this._week.dow}function ce(){return this._week.doy}function ue(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function he(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function de(e,t,n,r,a){var i,s,o=ne(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,i=a-o+(o>r?7:0)-(a>o?7:0),s=7*(t-1)+(n-a)+i+1,{year:s>0?e:e-1,dayOfYear:s>0?s:re(e-1)+s}}function fe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function _e(e,t,n){return null!=e?e:null!=t?t:n}function pe(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ge(e){var t,n,r,a,i=[];if(!e._d){for(r=pe(e),e._w&&null==e._a[tr]&&null==e._a[er]&&me(e),e._dayOfYear&&(a=_e(e._a[Kn],r[Kn]),e._dayOfYear>re(a)&&(e._pf._overflowDayOfYear=!0),n=ne(a,0,e._dayOfYear),e._a[er]=n.getUTCMonth(),e._a[tr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[nr]&&0===e._a[rr]&&0===e._a[ar]&&0===e._a[ir]&&(e._nextDay=!0,e._a[nr]=0),e._d=(e._useUTC?ne:te).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[nr]=24)}}function me(e){var t,n,r,a,i,s,o;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,s=4,n=_e(t.GG,e._a[Kn],se(Te(),1,4).year),r=_e(t.W,1),a=_e(t.E,1)):(i=e._locale._week.dow,s=e._locale._week.doy,n=_e(t.gg,e._a[Kn],se(Te(),i,s).year),r=_e(t.w,1),null!=t.d?(a=t.d,i>a&&++r):a=null!=t.e?t.e+i:i),o=de(n,r,a,s,i),e._a[Kn]=o.year,e._dayOfYear=o.dayOfYear}function ve(t){if(t._f===e.ISO_8601)return void K(t);t._a=[],t._pf.empty=!0;var n,r,a,i,s,o=""+t._i,l=o.length,c=0;for(a=F(t._f,t._locale).match(Nn)||[],n=0;n<a.length;n++)i=a[n],r=(o.match(E(i,t))||[])[0],r&&(s=o.substr(0,o.indexOf(r)),s.length>0&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(r)+r.length),c+=r.length),jn[i]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(i),U(i,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=l-c,o.length>0&&t._pf.unusedInput.push(o),t._pf.bigHour===!0&&t._a[nr]<=12&&(t._pf.bigHour=void 0),t._a[nr]=ye(t._locale,t._a[nr],t._meridiem),ge(t),V(t)}function ye(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function be(e){var t,r,a,i,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=n(),t._f=e._f[i],ve(t),c(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==a||a>s)&&(a=s,r=t));o(e,r||t)}function we(e){if(!e._d){var t=T(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ge(e)}}function xe(e){var t,n=e._i,a=e._f;return e._locale=e._locale||x(e._l),null===n||void 0===a&&""===n?u({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),f(n)?new d(V(n)):(r(a)?be(e):a?ve(e):ke(e),t=new d(V(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function ke(t){var n=t._i;void 0===n?t._d=new Date:a(n)?t._d=new Date(+n):"string"==typeof n?ee(t):r(n)?(t._a=i(n.slice(0),function(e){return parseInt(e,10)}),ge(t)):"object"==typeof n?we(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Se(e,t,r,a,i){var s={};return"boolean"==typeof r&&(a=r,r=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=e,s._f=t,s._strict=a,s._pf=n(),xe(s)}function Te(e,t,n,r){return Se(e,t,n,r,!1)}function Me(e,t){var n,a;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Te();for(n=t[0],a=1;a<t.length;++a)t[a][e](n)&&(n=t[a]);return n}function Ce(){var e=[].slice.call(arguments,0);return Me("isBefore",e)}function De(){var e=[].slice.call(arguments,0);return Me("isAfter",e)}function Pe(e){var t=T(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*o,this._days=+s+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=x(),this._bubble()}function Ae(e){return e instanceof Pe}function Ye(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)})}function qe(e){var t=(e||"").match(Xn)||[],n=t[t.length-1]||[],r=(n+"").match(mr)||["-",0,0],a=+(60*r[1])+_(r[2]);return"+"===r[0]?a:-a}function Ne(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(f(t)||a(t)?+t:+Te(t))-+r,r._d.setTime(+r._d+i),e.updateOffset(r,!1),r):Te(t).local()}function Oe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Fe(t,n){var r,a=this._offset||0;return null!=t?("string"==typeof t&&(t=qe(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Oe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==t&&(!n||this._changeInProgress?Je(this,$e(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Oe(this)}function je(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ee(e){return this.utcOffset(0,e)}function Le(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Oe(this),"m")),this}function Ie(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(qe(this._i)),this}function Ge(e){return e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Be(){if(this._a){var e=this._isUTC?l(this._a):Te(this._a);return this.isValid()&&p(this._a,e.toArray())>0}return!1}function He(){return!this._isUTC}function ze(){return this._isUTC}function Re(){return this._isUTC&&0===this._offset}function $e(e,t){var n,r,a,i=e,o=null;return Ae(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(o=vr.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:_(o[tr])*n,h:_(o[nr])*n,m:_(o[rr])*n,s:_(o[ar])*n,ms:_(o[ir])*n}):(o=yr.exec(e))?(n="-"===o[1]?-1:1,i={y:We(o[2],n),M:We(o[3],n),d:We(o[4],n),h:We(o[5],n),m:We(o[6],n),s:We(o[7],n),w:We(o[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(a=Ve(Te(i.from),Te(i.to)),i={},i.ms=a.milliseconds,i.M=a.months),r=new Pe(i),Ae(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function We(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ve(e,t){var n;return t=Ne(t,e),e.isBefore(t)?n=Xe(e,t):(n=Xe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Ze(e,t){return function(n,r){var a,i;return null===r||isNaN(+r)||(Q(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,a=$e(n,r),Je(this,a,e),this}}function Je(t,n,r,a){var i=n._milliseconds,s=n._days,o=n._months;a=null==a?!0:a,i&&t._d.setTime(+t._d+i*r),s&&D(t,"Date",C(t,"Date")+s*r),o&&$(t,C(t,"Month")+o*r),a&&e.updateOffset(t,s||o)}function Qe(e){var t=e||Te(),n=Ne(t,this).startOf("day"),r=this.diff(n,"days",!0),a=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,Te(t)))}function Ke(){return new d(this)}function et(e,t){var n;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:Te(e),+this>+e):(n=f(e)?+e:+Te(e),n<+this.clone().startOf(t))}function tt(e,t){var n;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:Te(e),+e>+this):(n=f(e)?+e:+Te(e),+this.clone().endOf(t)<n)}function nt(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function rt(e,t){var n;return t=S(t||"millisecond"),"millisecond"===t?(e=f(e)?e:Te(e),+this===+e):(n=+Te(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function at(e){return 0>e?Math.ceil(e):Math.floor(e)}function it(e,t,n){var r,a,i=Ne(e,this),s=6e4*(i.utcOffset()-this.utcOffset());return t=S(t),"year"===t||"month"===t||"quarter"===t?(a=st(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-i,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),n?a:at(a)}function st(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return 0>t-i?(n=e.clone().add(a-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(a+1,"months"),r=(t-i)/(n-i)),-(a+r)}function ot(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ct(t){var n=O(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ut(e,t){return $e({to:this,from:e}).locale(this.locale()).humanize(!t)}function ht(e){return this.from(Te(),e)}function dt(e){var t;return void 0===e?this._locale._abbr:(t=x(e),null!=t&&(this._locale=t),this)}function ft(){return this._locale}function _t(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function pt(e){return e=S(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function gt(){return+this._d-6e4*(this._offset||0)}function mt(){return Math.floor(+this/1e3)}function vt(){return this._offset?new Date(+this):this._d}function yt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bt(){return c(this)}function wt(){return o({},this._pf)}function xt(){return this._pf.overflow}function kt(e,t){Y(0,[e,e.length],0,t)}function St(e,t,n){return se(Te([e,11,31+t-n]),t,n).week}function Tt(e){var t=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Mt(e){var t=se(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Ct(){return St(this.year(),1,4)}function Dt(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Pt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function At(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Yt(e){return this._weekdays[e.day()]}function qt(e){return this._weekdaysShort[e.day()]}function Nt(e){return this._weekdaysMin[e.day()]}function Ot(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Te([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ft(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),
this.add(e-t,"d")):t}function jt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Et(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Lt(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function It(e,t){return t._meridiemParse}function Gt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ut(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Bt(e){Y(0,[e,3],0,"millisecond")}function Ht(){return this._isUTC?"UTC":""}function zt(){return this._isUTC?"Coordinated Universal Time":""}function Rt(e){return Te(1e3*e)}function $t(){return Te.apply(null,arguments).parseZone()}function Wt(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function Xt(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Vt(){return this._invalidDate}function Zt(e){return this._ordinal.replace("%d",e)}function Jt(e){return e}function Qt(e,t,n,r){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,r):a.replace(/%d/i,e)}function Kt(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function en(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function tn(e,t,n,r){var a=x(),i=l().set(r,t);return a[n](i,e)}function nn(e,t,n,r,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return tn(e,t,n,a);var i,s=[];for(i=0;r>i;i++)s[i]=tn(e,i,n,a);return s}function rn(e,t){return nn(e,t,"months",12,"month")}function an(e,t){return nn(e,t,"monthsShort",12,"month")}function sn(e,t){return nn(e,t,"weekdays",7,"day")}function on(e,t){return nn(e,t,"weekdaysShort",7,"day")}function ln(e,t){return nn(e,t,"weekdaysMin",7,"day")}function cn(){var e=this._data;return this._milliseconds=Ur(this._milliseconds),this._days=Ur(this._days),this._months=Ur(this._months),e.milliseconds=Ur(e.milliseconds),e.seconds=Ur(e.seconds),e.minutes=Ur(e.minutes),e.hours=Ur(e.hours),e.months=Ur(e.months),e.years=Ur(e.years),this}function un(e,t,n,r){var a=$e(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function hn(e,t){return un(this,e,t,1)}function dn(e,t){return un(this,e,t,-1)}function fn(){var e,t,n,r=this._milliseconds,a=this._days,i=this._months,s=this._data,o=0;return s.milliseconds=r%1e3,e=at(r/1e3),s.seconds=e%60,t=at(e/60),s.minutes=t%60,n=at(t/60),s.hours=n%24,a+=at(n/24),o=at(_n(a)),a-=at(pn(o)),i+=at(a/30),a%=30,o+=at(i/12),i%=12,s.days=a,s.months=i,s.years=o,this}function _n(e){return 400*e/146097}function pn(e){return 146097*e/400}function gn(e){var t,n,r=this._milliseconds;if(e=S(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+12*_n(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pn(this._months/12)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 24*t*60+r/6e4;case"second":return 24*t*60*60+r/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+r;default:throw new Error("Unknown unit "+e)}}function mn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function vn(e){return function(){return this.as(e)}}function yn(e){return e=S(e),this[e+"s"]()}function bn(e){return function(){return this._data[e]}}function wn(){return at(this.days()/7)}function xn(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function kn(e,t,n){var r=$e(e).abs(),a=ra(r.as("s")),i=ra(r.as("m")),s=ra(r.as("h")),o=ra(r.as("d")),l=ra(r.as("M")),c=ra(r.as("y")),u=a<aa.s&&["s",a]||1===i&&["m"]||i<aa.m&&["mm",i]||1===s&&["h"]||s<aa.h&&["hh",s]||1===o&&["d"]||o<aa.d&&["dd",o]||1===l&&["M"]||l<aa.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,xn.apply(null,u)}function Sn(e,t){return void 0===aa[e]?!1:void 0===t?aa[e]:(aa[e]=t,!0)}function Tn(e){var t=this.localeData(),n=kn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Mn(){var e=ia(this.years()),t=ia(this.months()),n=ia(this.days()),r=ia(this.hours()),a=ia(this.minutes()),i=ia(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||a||i?"T":"")+(r?r+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"}var Cn,Dn,Pn=e.momentProperties=[],An=!1,Yn={},qn={},Nn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,On=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fn={},jn={},En=/\d/,Ln=/\d\d/,In=/\d{3}/,Gn=/\d{4}/,Un=/[+-]?\d{6}/,Bn=/\d\d?/,Hn=/\d{1,3}/,zn=/\d{1,4}/,Rn=/[+-]?\d{1,6}/,$n=/\d+/,Wn=/[+-]?\d+/,Xn=/Z|[+-]\d\d:?\d\d/gi,Vn=/[+-]?\d+(\.\d{1,3})?/,Zn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Jn={},Qn={},Kn=0,er=1,tr=2,nr=3,rr=4,ar=5,ir=6;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),j("M",Bn),j("MM",Bn,Ln),j("MMM",Zn),j("MMMM",Zn),I(["M","MM"],function(e,t){t[er]=_(e)-1}),I(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[er]=a:n._pf.invalidMonth=e});var sr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),or="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lr={};e.suppressDeprecationWarnings=!1;var cr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ur=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],hr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],dr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),k("year","y"),j("Y",Wn),j("YY",Bn,Ln),j("YYYY",zn,Gn),j("YYYYY",Rn,Un),j("YYYYYY",Rn,Un),I(["YYYY","YYYYY","YYYYYY"],Kn),I("YY",function(t,n){n[Kn]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var fr=M("FullYear",!1);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),j("w",Bn),j("ww",Bn,Ln),j("W",Bn),j("WW",Bn,Ln),G(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});var _r={dow:0,doy:6};Y("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),j("DDD",Hn),j("DDDD",In),I(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),e.ISO_8601=function(){};var pr=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this>e?this:e}),gr=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return e>this?this:e});Ye("Z",":"),Ye("ZZ",""),j("Z",Xn),j("ZZ",Xn),I(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qe(e)});var mr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var vr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,yr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;$e.fn=Pe.prototype;var br=Ze(1,"add"),wr=Ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var xr=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kt("gggg","weekYear"),kt("ggggg","weekYear"),kt("GGGG","isoWeekYear"),kt("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),j("G",Wn),j("g",Wn),j("GG",Bn,Ln),j("gg",Bn,Ln),j("GGGG",zn,Gn),j("gggg",zn,Gn),j("GGGGG",Rn,Un),j("ggggg",Rn,Un),G(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),G(["gg","GG"],function(t,n,r,a){n[a]=e.parseTwoDigitYear(t)}),Y("Q",0,0,"quarter"),k("quarter","Q"),j("Q",En),I("Q",function(e,t){t[er]=3*(_(e)-1)}),Y("D",["DD",2],"Do","date"),k("date","D"),j("D",Bn),j("DD",Bn,Ln),j("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),I(["D","DD"],tr),I("Do",function(e,t){t[tr]=_(e.match(Bn)[0],10)});var kr=M("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),j("d",Bn),j("e",Bn),j("E",Bn),j("dd",Zn),j("ddd",Zn),j("dddd",Zn),G(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:n._pf.invalidWeekday=e}),G(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var Sr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Tr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,function(){return this.hours()%12||12}),Lt("a",!0),Lt("A",!1),k("hour","h"),j("a",It),j("A",It),j("H",Bn),j("h",Bn),j("HH",Bn,Ln),j("hh",Bn,Ln),I(["H","HH"],nr),I(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),I(["h","hh"],function(e,t,n){t[nr]=_(e),n._pf.bigHour=!0});var Cr=/[ap]\.?m?\.?/i,Dr=M("Hours",!0);Y("m",["mm",2],0,"minute"),k("minute","m"),j("m",Bn),j("mm",Bn,Ln),I(["m","mm"],rr);var Pr=M("Minutes",!1);Y("s",["ss",2],0,"second"),k("second","s"),j("s",Bn),j("ss",Bn,Ln),I(["s","ss"],ar);var Ar=M("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Bt("SSS"),Bt("SSSS"),k("millisecond","ms"),j("S",Hn,En),j("SS",Hn,Ln),j("SSS",Hn,In),j("SSSS",$n),I(["S","SS","SSS","SSSS"],function(e,t){t[ir]=_(1e3*("0."+e))});var Yr=M("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var qr=d.prototype;qr.add=br,qr.calendar=Qe,qr.clone=Ke,qr.diff=it,qr.endOf=pt,qr.format=ct,qr.from=ut,qr.fromNow=ht,qr.get=P,qr.invalidAt=xt,qr.isAfter=et,qr.isBefore=tt,qr.isBetween=nt,qr.isSame=rt,qr.isValid=bt,qr.lang=xr,qr.locale=dt,qr.localeData=ft,qr.max=gr,qr.min=pr,qr.parsingFlags=wt,qr.set=P,qr.startOf=_t,qr.subtract=wr,qr.toArray=yt,qr.toDate=vt,qr.toISOString=lt,qr.toJSON=lt,qr.toString=ot,qr.unix=mt,qr.valueOf=gt,qr.year=fr,qr.isLeapYear=ie,qr.weekYear=Tt,qr.isoWeekYear=Mt,qr.quarter=qr.quarters=Pt,qr.month=W,qr.daysInMonth=X,qr.week=qr.weeks=ue,qr.isoWeek=qr.isoWeeks=he,qr.weeksInYear=Dt,qr.isoWeeksInYear=Ct,qr.date=kr,qr.day=qr.days=Ft,qr.weekday=jt,qr.isoWeekday=Et,qr.dayOfYear=fe,qr.hour=qr.hours=Dr,qr.minute=qr.minutes=Pr,qr.second=qr.seconds=Ar,qr.millisecond=qr.milliseconds=Yr,qr.utcOffset=Fe,qr.utc=Ee,qr.local=Le,qr.parseZone=Ie,qr.hasAlignedHourOffset=Ge,qr.isDST=Ue,qr.isDSTShifted=Be,qr.isLocal=He,qr.isUtcOffset=ze,qr.isUtc=Re,qr.isUTC=Re,qr.zoneAbbr=Ht,qr.zoneName=zt,qr.dates=J("dates accessor is deprecated. Use date instead.",kr),qr.months=J("months accessor is deprecated. Use month instead",W),qr.years=J("years accessor is deprecated. Use year instead",fr),qr.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",je);var Nr=qr,Or={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},jr="Invalid date",Er="%d",Lr=/\d{1,2}/,Ir={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gr=g.prototype;Gr._calendar=Or,Gr.calendar=Wt,Gr._longDateFormat=Fr,Gr.longDateFormat=Xt,Gr._invalidDate=jr,Gr.invalidDate=Vt,Gr._ordinal=Er,Gr.ordinal=Zt,Gr._ordinalParse=Lr,Gr.preparse=Jt,Gr.postformat=Jt,Gr._relativeTime=Ir,Gr.relativeTime=Qt,Gr.pastFuture=Kt,Gr.set=en,Gr.months=H,Gr._months=sr,Gr.monthsShort=z,Gr._monthsShort=or,Gr.monthsParse=R,Gr.week=oe,Gr._week=_r,Gr.firstDayOfYear=ce,Gr.firstDayOfWeek=le,Gr.weekdays=Yt,Gr._weekdays=Sr,Gr.weekdaysMin=Nt,Gr._weekdaysMin=Mr,Gr.weekdaysShort=qt,Gr._weekdaysShort=Tr,Gr.weekdaysParse=Ot,Gr.isPM=Gt,Gr._meridiemParse=Cr,Gr.meridiem=Ut,b("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=J("moment.lang is deprecated. Use moment.locale instead.",b),e.langData=J("moment.langData is deprecated. Use moment.localeData instead.",x);var Ur=Math.abs,Br=vn("ms"),Hr=vn("s"),zr=vn("m"),Rr=vn("h"),$r=vn("d"),Wr=vn("w"),Xr=vn("M"),Vr=vn("y"),Zr=bn("milliseconds"),Jr=bn("seconds"),Qr=bn("minutes"),Kr=bn("hours"),ea=bn("days"),ta=bn("months"),na=bn("years"),ra=Math.round,aa={s:45,m:45,h:22,d:26,M:11},ia=Math.abs,sa=Pe.prototype;sa.abs=cn,sa.add=hn,sa.subtract=dn,sa.as=gn,sa.asMilliseconds=Br,sa.asSeconds=Hr,sa.asMinutes=zr,sa.asHours=Rr,sa.asDays=$r,sa.asWeeks=Wr,sa.asMonths=Xr,sa.asYears=Vr,sa.valueOf=mn,sa._bubble=fn,sa.get=yn,sa.milliseconds=Zr,sa.seconds=Jr,sa.minutes=Qr,sa.hours=Kr,sa.days=ea,sa.weeks=wn,sa.months=ta,sa.years=na,sa.humanize=Tn,sa.toISOString=Mn,sa.toString=Mn,sa.toJSON=Mn,sa.locale=dt,sa.localeData=ft,sa.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),sa.lang=xr,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),j("x",Wn),j("X",Vn),I("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),I("x",function(e,t,n){n._d=new Date(_(e))}),e.version="2.10.2",t(Te),e.fn=Nr,e.min=Ce,e.max=De,e.utc=l,e.unix=Rt,e.months=rn,e.isDate=a,e.locale=b,e.invalid=u,e.duration=$e,e.isMoment=f,e.weekdays=sn,e.parseZone=$t,e.localeData=x,e.isDuration=Ae,e.monthsShort=an,e.weekdaysMin=ln,e.defineLocale=w,e.weekdaysShort=on,e.normalizeUnits=S,e.relativeTimeThreshold=Sn;var oa=e;return oa}),function(e){"use strict";function t(){this._init()}var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)};(function(){for(var e,t="transform webkitTransform mozTransform oTransform msTransform".split(" "),n=(document.createElement("div"),0);void 0===e;)e=void 0!=document.createElement("div").style[t[n]]?t[n]:void 0,n++;return e})();t.prototype._reset=function(){},t.prototype._init=function(){this.width=e.innerWidth,this.menu_header=$(".jvp_header")[0],this.menu_header&&(this.lastPosition=-1,this.oldLastPosition=-1,this._initEvents())},t.prototype._initEvents=function(){var t=this;e.addEventListener("resize",function(){t._resizeHandler()}),this._animationFrame()},t.prototype._resizeHandler=function(){this.width=e.innerWidth},t.prototype._animationFrame=function(){var t=this;return this.lastPosition==e.pageYOffset?(n(function(){t._animationFrame()}),!1):(this.lastPosition=e.pageYOffset,this.width>993?this.oldLastPosition>this.lastPosition?this.lastPosition>this.menu_header.offsetTop+this.menu_header.scrollHeight?(this.menu_header.style.position="absolute",this.menu_header.style.top=this.lastPosition+this.menu_header.offsetTop+"px"):this.lastPosition<=this.menu_header.offsetTop&&(this.menu_header.style.top=this.lastPosition+"px"):this.lastPosition<=this.menu_header.offsetTop+this.menu_header.scrollHeight?(this.menu_header.style.position="absolute",this.menu_header.style.top=this.menu_header.offsetTop+"px"):(this.menu_header.style.position="fixed",this.menu_header.style.top=-this.menu_header.scrollHeight+"px"):(this.menu_header.style.position="absolute",this.menu_header.style.top="0"),this.oldLastPosition=this.lastPosition,void n(function(){t._animationFrame()}))},e.Header=t}(window),function(e){"use strict";function t(){this._init()}t.prototype._init=function(){this.holder=$("#toast_holder"),this.toast=[]},t.prototype._create=function(e){var t=$('<div class="toast">'+e+"</div>")[0],n=$(t).find(".toast_close")[0];$(this.holder).prepend(t),this.toast.push(t);var r=setTimeout(function(){classie.addClass(t,"toast_fadeout"),setTimeout(function(){classie.addClass(t,"display_none")},400)},2e4);n.addEventListener("click",function(){clearInterval(r),classie.addClass(t,"toast_fadeout"),setTimeout(function(){classie.addClass(t,"display_none")},400)})},t.prototype._initEvents=function(){},e.Toast=t}(window),!function(e){var t,n,r="0.4.2",a="hasOwnProperty",i=/[\.\/]/,s="*",o=function(){},l=function(e,t){return e-t},c={n:{}},u=function(e,r){e=String(e);var a,i=n,s=Array.prototype.slice.call(arguments,2),o=u.listeners(e),c=0,h=[],d={},f=[],_=t;t=e,n=0;for(var p=0,g=o.length;g>p;p++)"zIndex"in o[p]&&(h.push(o[p].zIndex),o[p].zIndex<0&&(d[o[p].zIndex]=o[p]));for(h.sort(l);h[c]<0;)if(a=d[h[c++]],f.push(a.apply(r,s)),n)return n=i,f;for(p=0;g>p;p++)if(a=o[p],"zIndex"in a)if(a.zIndex==h[c]){if(f.push(a.apply(r,s)),n)break;do if(c++,a=d[h[c]],a&&f.push(a.apply(r,s)),n)break;while(a)}else d[a.zIndex]=a;else if(f.push(a.apply(r,s)),n)break;return n=i,t=_,f.length?f:null};u._events=c,u.listeners=function(e){var t,n,r,a,o,l,u,h,d=e.split(i),f=c,_=[f],p=[];for(a=0,o=d.length;o>a;a++){for(h=[],l=0,u=_.length;u>l;l++)for(f=_[l].n,n=[f[d[a]],f[s]],r=2;r--;)t=n[r],t&&(h.push(t),p=p.concat(t.f||[]));_=h}return p},u.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(i),r=c,a=0,s=n.length;s>a;a++)r=r.n,r=r.hasOwnProperty(n[a])&&r[n[a]]||(r[n[a]]={n:{}});for(r.f=r.f||[],a=0,s=r.f.length;s>a;a++)if(r.f[a]==t)return o;return r.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},u.f=function(e){var t=[].slice.call(arguments,1);return function(){u.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},u.stop=function(){n=1},u.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},u.nts=function(){return t.split(i)},u.off=u.unbind=function(e,t){if(!e)return void(u._events=c={n:{}});var n,r,o,l,h,d,f,_=e.split(i),p=[c];for(l=0,h=_.length;h>l;l++)for(d=0;d<p.length;d+=o.length-2){if(o=[d,1],n=p[d].n,_[l]!=s)n[_[l]]&&o.push(n[_[l]]);else for(r in n)n[a](r)&&o.push(n[r]);p.splice.apply(p,o)}for(l=0,h=p.length;h>l;l++)for(n=p[l];n.n;){if(t){if(n.f){for(d=0,f=n.f.length;f>d;d++)if(n.f[d]==t){n.f.splice(d,1);break}!n.f.length&&delete n.f}for(r in n.n)if(n.n[a](r)&&n.n[r].f){var g=n.n[r].f;for(d=0,f=g.length;f>d;d++)if(g[d]==t){g.splice(d,1);break}!g.length&&delete n.n[r].f}}else{delete n.f;for(r in n.n)n.n[a](r)&&n.n[r].f&&delete n.n[r].f}n=n.n}},u.once=function(e,t){var n=function(){return u.unbind(e,n),t.apply(this,arguments)};return u.on(e,n)},u.version=r,u.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof define?define("eve",[],function(){return u}):e.eve=u}(this),function(e,t){"function"==typeof define&&define.amd?define(["eve"],function(n){return t(e,n)}):t(e,e.eve)}(this,function(e,t){var n=function(t){var n={},r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},a=Array.isArray||function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},i=0,s="M"+(+new Date).toString(36),o=function(){return s+(i++).toString(36)},l=Date.now||function(){return+new Date},c=function(e){var t=this;if(null==e)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},u=function(e){var t=this;return null==e?t.spd:void(t.spd=e)},h=function(e){var t=this;return null==e?t.dur:(t.s=t.s*e/t.dur,void(t.dur=e))},d=function(){var e=this;delete n[e.id],t("mina.stop."+e.id,e)},f=function(){var e=this;e.pdif||(delete n[e.id],e.pdif=e.get()-e.b)},_=function(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e)},p=function(){var e=0;for(var i in n)if(n.hasOwnProperty(i)){var s,o=n[i],l=o.get();if(e++,o.s=(l-o.b)/(o.dur/o.spd),o.s>=1&&(delete n[i],o.s=1,e--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(o)),a(o.start)){s=[];for(var c=0,u=o.start.length;u>c;c++)s[c]=+o.start[c]+(o.end[c]-o.start[c])*o.easing(o.s)}else s=+o.start+(o.end-o.start)*o.easing(o.s);o.set(s)}e&&r(p)},g=function(e,t,a,i,s,l,m){var v={id:o(),start:e,end:t,b:a,s:0,dur:i-a,spd:1,get:s,set:l,easing:m||g.linear,status:c,speed:u,duration:h,stop:d,pause:f,resume:_};n[v.id]=v;var y,b=0;for(y in n)if(n.hasOwnProperty(y)&&(b++,2==b))break;return 1==b&&r(p),v};return g.time=l,g.getById=function(e){return n[e]||null},g.linear=function(e){return e},g.easeout=function(e){return Math.pow(e,1.7)},g.easein=function(e){return Math.pow(e,.48)},g.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),r=n-t,a=Math.pow(Math.abs(r),1/3)*(0>r?-1:1),i=-n-t,s=Math.pow(Math.abs(i),1/3)*(0>i?-1:1),o=a+s+.5;return 3*(1-o)*o*o+o*o*o},g.backin=function(e){if(1==e)return 1;var t=1.70158;return e*e*((t+1)*e-t)},g.backout=function(e){if(0==e)return 0;e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},g.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin(2*(e-.075)*Math.PI/.3)+1},g.bounce=function(e){var t,n=7.5625,r=2.75;return 1/r>e?t=n*e*e:2/r>e?(e-=1.5/r,t=n*e*e+.75):2.5/r>e?(e-=2.25/r,t=n*e*e+.9375):(e-=2.625/r,t=n*e*e+.984375),t},e.mina=g,g}("undefined"==typeof t?function(){}:t),r=function(){function r(e,t){if(e){if(e.tagName)return T(e);if(e instanceof b)return e;if(null==t)return e=O.doc.querySelector(e),T(e)}return e=null==e?"100%":e,t=null==t?"100%":t,new S(e,t)}function a(e,t){if(t){if("string"==typeof e&&(e=a(e)),"string"==typeof t)return"xlink:"==t.substring(0,6)?e.getAttributeNS(ie,t.substring(6)):"xml:"==t.substring(0,4)?e.getAttributeNS(se,t.substring(4)):e.getAttribute(t);for(var n in t)if(t[F](n)){var r=j(t[n]);r?"xlink:"==n.substring(0,6)?e.setAttributeNS(ie,n.substring(6),r):"xml:"==n.substring(0,4)?e.setAttributeNS(se,n.substring(4),r):e.setAttribute(n,r):e.removeAttribute(n)}}else e=O.doc.createElementNS(se,e);return e}function i(e,t){return t=j.prototype.toLowerCase.call(t),"finite"==t?isFinite(e):"array"==t&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||$.call(e).slice(8,-1).toLowerCase()==t}function s(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[F](n)&&(t[n]=s(e[n]));return t}function o(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function l(e,t,n){function r(){var a=Array.prototype.slice.call(arguments,0),i=a.join("␀"),s=r.cache=r.cache||{},l=r.count=r.count||[];return s[F](i)?(o(l,i),n?n(s[i]):s[i]):(l.length>=1e3&&delete s[l.shift()],l.push(i),s[i]=e.apply(t,a),n?n(s[i]):s[i])}return r}function c(e,t,n,r,a,i){if(null==a){var s=e-n,o=t-r;return s||o?(180+180*I.atan2(-o,-s)/H+360)%360:0}return c(e,t,a,i)-c(n,r,a,i)}function u(e){return e%360*H/180}function h(e){return 180*e/H%360}function d(e,t,n,r,a,i){return null==t&&"[object SVGMatrix]"==$.call(e)?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void(this.f=e.f)):void(null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+a,this.f=+i):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}function f(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==n?t.push(["m",1,0,I.tan(u(r[0])),1,0,0]):"skewY"==n?t.push(["m",1,I.tan(u(r[0])),0,1,0,0]):t.push([n.charAt(0)].concat(r)),e}),t}function _(e,t){var n=ge(e),r=new d;if(n)for(var a=0,i=n.length;i>a;a++){var s,o,l,c,u,h=n[a],f=h.length,_=j(h[0]).toLowerCase(),p=h[0]!=_,g=p?r.invert():0;"t"==_&&2==f?r.translate(h[1],0):"t"==_&&3==f?p?(s=g.x(0,0),o=g.y(0,0),l=g.x(h[1],h[2]),c=g.y(h[1],h[2]),r.translate(l-s,c-o)):r.translate(h[1],h[2]):"r"==_?2==f?(u=u||t,r.rotate(h[1],u.x+u.width/2,u.y+u.height/2)):4==f&&(p?(l=g.x(h[2],h[3]),c=g.y(h[2],h[3]),r.rotate(h[1],l,c)):r.rotate(h[1],h[2],h[3])):"s"==_?2==f||3==f?(u=u||t,r.scale(h[1],h[f-1],u.x+u.width/2,u.y+u.height/2)):4==f?p?(l=g.x(h[2],h[3]),c=g.y(h[2],h[3]),r.scale(h[1],h[1],l,c)):r.scale(h[1],h[1],h[2],h[3]):5==f&&(p?(l=g.x(h[3],h[4]),c=g.y(h[3],h[4]),r.scale(h[1],h[2],l,c)):r.scale(h[1],h[2],h[3],h[4])):"m"==_&&7==f&&r.add(h[1],h[2],h[3],h[4],h[5],h[6])}return r}function p(e,t){if(null==t){var n=!0;if(t="linearGradient"==e.type||"radialGradient"==e.type?e.node.getAttribute("gradientTransform"):"pattern"==e.type?e.node.getAttribute("patternTransform"):e.node.getAttribute("transform"),!t)return new d;t=f(t)}else t=r._.rgTransform.test(t)?j(t).replace(/\.{3}|\u2026/g,e._.transform||z):f(t),i(t,"array")&&(t=r.path?r.path.toString.call(t):j(t)),e._.transform=t;var a=_(t,e.getBBox(1));return n?a:void(e.matrix=a)}function m(e){var t=r._.someDefs;if(t&&me(t.ownerDocument.documentElement,t))return t;var n=e.node.ownerSVGElement&&T(e.node.ownerSVGElement)||e.node.parentNode&&T(e.node.parentNode)||r.select("svg")||r(0,0),a=n.select("defs"),i=null==a?!1:a.node;return i||(i=k("defs",n.node).node),r._.someDefs=i,i}function v(e,t,n){function r(e){return null==e?z:e==+e?e:(a(c,{width:e}),c.getBBox().width)}function i(e){return null==e?z:e==+e?e:(a(c,{height:e}),c.getBBox().height)}function s(r,a){null==t?l[r]=a(e.attr(r)):r==t&&(l=a(null==n?e.attr(r):n))}var o=m(e),l={},c=o.querySelector(".svg---mgr");switch(c||(c=a("rect"),a(c,{width:10,height:10,"class":"svg---mgr"}),o.appendChild(c)),e.type){case"rect":s("rx",r),s("ry",i);case"image":s("width",r),s("height",i);case"text":s("x",r),s("y",i);break;case"circle":s("cx",r),s("cy",i),s("r",r);break;case"ellipse":s("cx",r),s("cy",i),s("rx",r),s("ry",i);break;case"line":s("x1",r),s("x2",r),s("y1",i),s("y2",i);break;case"marker":s("refX",r),s("markerWidth",r),s("refY",i),s("markerHeight",i);break;case"radialGradient":s("fx",r),s("fy",i);break;case"tspan":s("dx",r),s("dy",i);break;default:s(t,r)}return l}function y(e){i(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var t=0,n=0,r=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)"set"==e[t].type?e[t].forEach(function(e){r.appendChild(e.node)}):r.appendChild(e[t].node);var a=r.childNodes;for(t=0;t<a.length;t++)this[n++]=T(a[t]);return this}function b(e){if(e.snap in oe)return oe[e.snap];var t,n=this.id=ae();try{t=e.ownerSVGElement}catch(r){}if(this.node=e,t&&(this.paper=new S(t)),this.type=e.tagName,this.anims={},this._={transform:[]},e.snap=n,oe[n]=this,"g"==this.type){this.add=y;for(var a in S.prototype)S.prototype[F](a)&&(this[a]=S.prototype[a])}}function w(e){for(var t,n=0,r=e.length;r>n;n++)if(t=t||e[n])return t}function x(e){this.node=e}function k(e,t){var n=a(e);t.appendChild(n);var r=T(n);return r.type=e,r}function S(e,t){var n,r,i,s=S.prototype;if(e&&"svg"==e.tagName){if(e.snap in oe)return oe[e.snap];n=new b(e),r=e.getElementsByTagName("desc")[0],i=e.getElementsByTagName("defs")[0],r||(r=a("desc"),r.appendChild(O.doc.createTextNode("Created with Snap")),n.node.appendChild(r)),i||(i=a("defs"),n.node.appendChild(i)),n.defs=i;for(var o in s)s[F](o)&&(n[o]=s[o]);n.paper=n.root=n}else n=k("svg",O.doc.body),a(n.node,{height:t,version:1.1,width:e,xmlns:se});return n}function T(e){return e?e instanceof b||e instanceof x?e:"svg"==e.tagName?new S(e):new b(e):e}function M(){return this.selectAll("stop")}function C(e,t){var n=a("stop"),i={offset:+t+"%"};return e=r.color(e),i["stop-color"]=e.hex,e.opacity<1&&(i["stop-opacity"]=e.opacity),a(n,i),this.node.appendChild(n),this}function D(){if("linearGradient"==this.type){var e=a(this.node,"x1")||0,t=a(this.node,"x2")||1,n=a(this.node,"y1")||0,i=a(this.node,"y2")||0;return r._.box(e,n,I.abs(t-e),I.abs(i-n))}var s=this.node.cx||.5,o=this.node.cy||.5,l=this.node.r||0;return r._.box(s-l,o-l,2*l,2*l)}function P(e,n){function r(e,t){for(var n=(t-c)/(e-u),r=u;e>r;r++)o[r].offset=+(+c+n*(r-u)).toFixed(2);u=e,c=t}var i,s=w(t("snap.util.grad.parse",null,n));if(!s)return null;s.params.unshift(e),i="l"==s.type.toLowerCase()?A.apply(0,s.params):Y.apply(0,s.params),s.type!=s.type.toLowerCase()&&a(i.node,{gradientUnits:"userSpaceOnUse"});var o=s.stops,l=o.length,c=0,u=0;l--;for(var h=0;l>h;h++)"offset"in o[h]&&r(h,o[h].offset);for(o[l].offset=o[l].offset||100,r(l,o[l].offset),h=0;l>=h;h++){var d=o[h];i.addStop(d.color,d.offset)}return i}function A(e,t,n,r,i){var s=k("linearGradient",e);return s.stops=M,s.addStop=C,s.getBBox=D,null!=t&&a(s.node,{x1:t,y1:n,x2:r,y2:i}),s}function Y(e,t,n,r,i,s){var o=k("radialGradient",e);return o.stops=M,o.addStop=C,o.getBBox=D,null!=t&&a(o.node,{cx:t,cy:n,r:r}),null!=i&&null!=s&&a(o.node,{fx:i,fy:s}),o}function q(e){return function(n){if(t.stop(),n instanceof x&&1==n.node.childNodes.length&&("radialGradient"==n.node.firstChild.tagName||"linearGradient"==n.node.firstChild.tagName||"pattern"==n.node.firstChild.tagName)&&(n=n.node.firstChild,m(this).appendChild(n),n=T(n)),n instanceof b)if("radialGradient"==n.type||"linearGradient"==n.type||"pattern"==n.type){n.node.id||a(n.node,{id:n.id});var i=le(n.node.id)}else i=n.attr(e);else if(i=r.color(n),i.error){var s=P(m(this),n);s?(s.node.id||a(s.node,{id:s.id}),i=le(s.node.id)):i=n}else i=j(i);var o={};o[e]=i,a(this.node,o),this.node.style[e]=z}}function N(e){for(var t=[],n=e.childNodes,r=0,a=n.length;a>r;r++){var i=n[r];3==i.nodeType&&t.push(i.nodeValue),"tspan"==i.tagName&&(1==i.childNodes.length&&3==i.firstChild.nodeType?t.push(i.firstChild.nodeValue):t.push(N(i)))}return t}r.version="0.2.0",r.toString=function(){return"Snap v"+this.version},r._={};var O={win:e,doc:e.document};r._.glob=O;var F="hasOwnProperty",j=String,E=parseFloat,L=parseInt,I=Math,G=I.max,U=I.min,B=I.abs,H=(I.pow,I.PI),z=(I.round,""),R=" ",$=Object.prototype.toString,W=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,X=/^url\(#?([^)]+)\)$/,V="	\n\f\r   ᠎             　\u2028\u2029",Z=new RegExp("[,"+V+"]+"),J=(new RegExp("["+V+"]","g"),new RegExp("["+V+"]*,["+V+"]*")),Q={hs:1,rg:1},K=new RegExp("([a-z])["+V+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+V+"]*,?["+V+"]*)+)","ig"),ee=new RegExp("([rstm])["+V+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+V+"]*,?["+V+"]*)+)","ig"),te=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+V+"]*,?["+V+"]*","ig"),ne=0,re="S"+(+new Date).toString(36),ae=function(){return re+(ne++).toString(36)},ie="http://www.w3.org/1999/xlink",se="http://www.w3.org/2000/svg",oe={},le=r.url=function(e){return"url('#"+e+"')"};r._.$=a,r._.id=ae,r.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var a=r;return n.replace(t,function(e,t,n,r,i){t=t||r,a&&(t in a&&(a=a[t]),"function"==typeof a&&i&&(a=a()))}),a=(null==a||a==r?e:a)+""};return function(t,r){return j(t).replace(e,function(e,t){return n(e,t,r)})}}();var ce=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var r=O.doc.createElement("img"),a=O.doc.body;
r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,a.removeChild(r)},r.onerror=e,a.appendChild(r),r.src=t}}();r._.clone=s,r._.cacher=l,r.rad=u,r.deg=h,r.angle=c,r.is=i,r.snapTo=function(e,t,n){if(n=i(n,"finite")?n:10,i(e,"array")){for(var r=e.length;r--;)if(B(e[r]-t)<=n)return e[r]}else{e=+e;var a=t%e;if(n>a)return t-a;if(a>e-n)return t-a+e}return t},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var n=I.sqrt(t(e));e[0]&&(e[0]/=n),e[1]&&(e[1]/=n)}e.add=function(e,t,n,r,a,i){var s,o,l,c,u=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[e,n,a],[t,r,i],[0,0,1]];for(e&&e instanceof d&&(f=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),s=0;3>s;s++)for(o=0;3>o;o++){for(c=0,l=0;3>l;l++)c+=h[s][l]*f[l][o];u[s][o]=c}return this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2],this},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new d(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){return this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,r){return null==t&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},e.rotate=function(e,t,n){e=u(e),t=t||0,n=n||0;var r=+I.cos(e).toFixed(9),a=+I.sin(e).toFixed(9);return this.add(r,a,-a,r,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[j.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=I.sqrt(t(r[0])),n(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=I.sqrt(t(r[1])),n(r[1]),e.shear/=e.scaley;var a=-r[0][1],i=r[1][1];return 0>i?(e.rotate=h(I.acos(i)),0>a&&(e.rotate=360-e.rotate)):e.rotate=h(I.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this.split();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:z)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:z)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:z)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype),r.Matrix=d,r.getRGB=l(function(e){if(!e||(e=j(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fe};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:fe};if(!(Q[F](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=ue(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fe};var t,n,a,s,o,l,c=e.match(W);return c?(c[2]&&(a=L(c[2].substring(5),16),n=L(c[2].substring(3,5),16),t=L(c[2].substring(1,3),16)),c[3]&&(a=L((o=c[3].charAt(3))+o,16),n=L((o=c[3].charAt(2))+o,16),t=L((o=c[3].charAt(1))+o,16)),c[4]&&(l=c[4].split(J),t=E(l[0]),"%"==l[0].slice(-1)&&(t*=2.55),n=E(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),a=E(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(s=E(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),c[5]?(l=c[5].split(J),t=E(l[0]),"%"==l[0].slice(-1)&&(t/=100),n=E(l[1]),"%"==l[1].slice(-1)&&(n/=100),a=E(l[2]),"%"==l[2].slice(-1)&&(a/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(s=E(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),r.hsb2rgb(t,n,a,s)):c[6]?(l=c[6].split(J),t=E(l[0]),"%"==l[0].slice(-1)&&(t/=100),n=E(l[1]),"%"==l[1].slice(-1)&&(n/=100),a=E(l[2]),"%"==l[2].slice(-1)&&(a/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(t/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(s=E(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),r.hsl2rgb(t,n,a,s)):(t=U(I.round(t),255),n=U(I.round(n),255),a=U(I.round(a),255),s=U(G(s,0),1),c={r:t,g:n,b:a,toString:fe},c.hex="#"+(16777216|a|n<<8|t<<16).toString(16).slice(1),c.opacity=i(s,"finite")?s:1,c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fe}},r),r.hsb=l(function(e,t,n){return r.hsb2rgb(e,t,n).hex}),r.hsl=l(function(e,t,n){return r.hsl2rgb(e,t,n).hex}),r.rgb=l(function(e,t,n,r){if(i(r,"finite")){var a=I.round;return"rgba("+[a(e),a(t),a(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var ue=function(e){var t=O.doc.getElementsByTagName("head")[0],n="rgb(255, 0, 0)";return(ue=l(function(e){if("red"==e.toLowerCase())return n;t.style.color=n,t.style.color=e;var r=O.doc.defaultView.getComputedStyle(t,z).getPropertyValue("color");return r==n?null:r}))(e)},he=function(){return"hsb("+[this.h,this.s,this.b]+")"},de=function(){return"hsl("+[this.h,this.s,this.l]+")"},fe=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},_e=function(e,t,n){if(null==t&&i(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&i(e,string)){var a=r.getRGB(e);e=a.r,t=a.g,n=a.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},pe=function(e,t,n,a){e=I.round(255*e),t=I.round(255*t),n=I.round(255*n);var s={r:e,g:t,b:n,opacity:i(a,"finite")?a:1,hex:r.rgb(e,t,n),toString:fe};return i(a,"finite")&&(s.opacity=a),s};r.color=function(e){var t;return i(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=r.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):i(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=r.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(i(e,"string")&&(e=r.getRGB(e)),i(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=r.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=r.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=fe,e},r.hsb2rgb=function(e,t,n,r){i(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,r=e.o),e*=360;var a,s,o,l,c;return e=e%360/60,c=n*t,l=c*(1-B(e%2-1)),a=s=o=n-c,e=~~e,a+=[c,l,0,0,l,c][e],s+=[l,c,c,l,0,0][e],o+=[0,0,l,c,c,l][e],pe(a,s,o,r)},r.hsl2rgb=function(e,t,n,r){i(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var a,s,o,l,c;return e=e%360/60,c=2*t*(.5>n?n:1-n),l=c*(1-B(e%2-1)),a=s=o=n-c/2,e=~~e,a+=[c,l,0,0,l,c][e],s+=[l,c,c,l,0,0][e],o+=[0,0,l,c,c,l][e],pe(a,s,o,r)},r.rgb2hsb=function(e,t,n){n=_e(e,t,n),e=n[0],t=n[1],n=n[2];var r,a,i,s;return i=G(e,t,n),s=i-U(e,t,n),r=0==s?null:i==e?(t-n)/s:i==t?(n-e)/s+2:(e-t)/s+4,r=60*((r+360)%6)/360,a=0==s?0:s/i,{h:r,s:a,b:i,toString:he}},r.rgb2hsl=function(e,t,n){n=_e(e,t,n),e=n[0],t=n[1],n=n[2];var r,a,i,s,o,l;return s=G(e,t,n),o=U(e,t,n),l=s-o,r=0==l?null:s==e?(t-n)/l:s==t?(n-e)/l+2:(e-t)/l+4,r=60*((r+360)%6)/360,i=(s+o)/2,a=0==l?0:.5>i?l/(2*i):l/(2-2*i),{h:r,s:a,l:i,toString:de}},r.parsePathString=function(e){if(!e)return null;var t=r.path(e);if(t.arr)return r.path.clone(t.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return i(e,"array")&&i(e[0],"array")&&(a=r.path.clone(e)),a.length||j(e).replace(K,function(e,t,r){var i=[],s=t.toLowerCase();if(r.replace(te,function(e,t){t&&i.push(+t)}),"m"==s&&i.length>2&&(a.push([t].concat(i.splice(0,2))),s="l",t="m"==t?"l":"L"),"o"==s&&1==i.length&&a.push([t,i[0]]),"r"==s)a.push([t].concat(i));else for(;i.length>=n[s]&&(a.push([t].concat(i.splice(0,n[s]))),n[s]););}),a.toString=r.path.toString,t.arr=r.path.clone(a),a};var ge=r.parseTransformString=function(e){if(!e)return null;var t=[];return i(e,"array")&&i(e[0],"array")&&(t=r.path.clone(e)),t.length||j(e).replace(ee,function(e,n,r){var a=[];n.toLowerCase(),r.replace(te,function(e,t){t&&a.push(+t)}),t.push([n].concat(a))}),t.toString=r.path.toString,t};r._.svgTransform2string=f,r._.rgTransform=new RegExp("^[a-z]["+V+"]*-?\\.?\\d","i"),r._.transform2matrix=_,r._unit2px=v;var me=O.doc.contains||O.doc.compareDocumentPosition?function(e,t){var n=9==e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e==r||!(!r||1!=r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t;)if(t=t.parentNode,t==e)return!0;return!1};r._.getSomeDefs=m,r.select=function(e){return T(O.doc.querySelector(e))},r.selectAll=function(e){for(var t=O.doc.querySelectorAll(e),n=(r.set||Array)(),a=0;a<t.length;a++)n.push(T(t[a]));return n},function(e){function s(e){function t(e,t){var n=a(e.node,t);n=n&&n.match(s),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(l[n]=(l[n]||[]).concat(function(n){var r={};r[t]=le(n),a(e.node,r)})))}function n(e){var t=a(e.node,"xlink:href");t&&"#"==t.charAt()&&(t=t.substring(1),t&&(l[t]=(l[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)})))}for(var r,i=e.selectAll("*"),s=/^\s*url\(("|'|)(.*)\1\)\s*$/,o=[],l={},c=0,u=i.length;u>c;c++){r=i[c],t(r,"fill"),t(r,"stroke"),t(r,"filter"),t(r,"mask"),t(r,"clip-path"),n(r);var h=a(r.node,"id");h&&(a(r.node,{id:r.id}),o.push({old:h,id:r.id}))}for(c=0,u=o.length;u>c;c++){var d=l[o[c].old];if(d)for(var f=0,_=d.length;_>f;f++)d[f](o[c].id)}}function o(e,t,n){return function(r){var a=r.slice(e,t);return 1==a.length&&(a=a[0]),n?n(a):a}}function l(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(e)for(var a=0,i=n.length;i>a;a++)t+=" "+n[a].name+'="'+n[a].value.replace(/"/g,'\\"')+'"';if(r.length){for(e&&(t+=">"),a=0,i=r.length;i>a;a++)3==r[a].nodeType?t+=r[a].nodeValue:1==r[a].nodeType&&(t+=T(r[a]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}e.attr=function(e,n){var r=this;if(r.node,!e)return r;if(i(e,"string")){if(!(arguments.length>1))return w(t("snap.util.getattr."+e,r));var a={};a[e]=n,e=a}for(var s in e)e[F](s)&&t("snap.util.attr."+s,r,e[s]);return r},e.getBBox=function(e){var t=this;if("use"==t.type&&(t=t.original),t.removed)return{};var n=t._;return e?(n.bboxwt=r.path.get[t.type]?r.path.getBBox(t.realPath=r.path.get[t.type](t)):r._.box(t.node.getBBox()),r._.box(n.bboxwt)):(t.realPath=(r.path.get[t.type]||r.path.get.deflt)(t),n.bbox=r.path.getBBox(r.path.map(t.realPath,t.matrix)),r._.box(n.bbox))};var c=function(){return this.string};e.transform=function(e){var t=this._;if(null==e){var n=new d(this.node.getCTM()),r=p(this),i=r.toTransformString(),s=j(r)==j(this.matrix)?t.transform:i;return{string:s,globalMatrix:n,localMatrix:r,diffMatrix:n.clone().add(r.invert()),global:n.toTransformString(),local:i,toString:c}}return e instanceof d&&(e=e.toTransformString()),p(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?a(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?a(this.node,{patternTransform:this.matrix}):a(this.node,{transform:this.matrix})),this},e.parent=function(){return T(this.node.parentNode)},e.append=e.add=function(e){if(e){if("set"==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=T(e),this.node.appendChild(e.node),e.paper=this.paper}return this},e.appendTo=function(e){return e&&(e=T(e),e.append(this)),this},e.prepend=function(e){if(e){e=T(e);var t=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),t&&t.add()}return this},e.prependTo=function(e){return e=T(e),e.prepend(this),this},e.before=function(e){if("set"==e.type){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=T(e);var n=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},e.after=function(e){e=T(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},e.insertBefore=function(e){e=T(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.insertAfter=function(e){e=T(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},e.select=function(e){return T(this.node.querySelector(e))},e.selectAll=function(e){for(var t=this.node.querySelectorAll(e),n=(r.set||Array)(),a=0;a<t.length;a++)n.push(T(t[a]));return n},e.asPX=function(e,t){return null==t&&(t=this.attr(e)),+v(this,e,t)},e.use=function(){var e,t=this.node.id;return t||(t=this.id,a(this.node,{id:t})),e="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?k(this.type,this.node.parentNode):k("use",this.node.parentNode),a(e.node,{"xlink:href":"#"+t}),e.original=this,e},e.clone=function(){var e=T(this.node.cloneNode(!0));return a(e.node,"id")&&a(e.node,{id:e.id}),s(e),e.insertAfter(this),e},e.toDefs=function(){var e=m(this);return e.appendChild(this.node),this},e.pattern=function(e,t,n,r){var s=k("pattern",m(this));return null==e&&(e=this.getBBox()),i(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,e=e.x),a(s.node,{x:e,y:t,width:n,height:r,patternUnits:"userSpaceOnUse",id:s.id,viewBox:[e,t,n,r].join(" ")}),s.node.appendChild(this.node),s},e.marker=function(e,t,n,r,s,o){var l=k("marker",m(this));return null==e&&(e=this.getBBox()),i(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,s=e.refX||e.cx,o=e.refY||e.cy,e=e.x),a(l.node,{viewBox:[e,t,n,r].join(R),markerWidth:n,markerHeight:r,orient:"auto",refX:s||0,refY:o||0,id:l.id}),l.node.appendChild(this.node),l};var u=function(e,t,r,a){"function"!=typeof r||r.length||(a=r,r=n.linear),this.attr=e,this.dur=t,r&&(this.easing=r),a&&(this.callback=a)};r.animation=function(e,t,n,r){return new u(e,t,n,r)},e.inAnim=function(){var e=this,t=[];for(var n in e.anims)e.anims[F](n)&&!function(e){t.push({anim:new u(e._attrs,e.dur,e.easing,e._callback),curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n]);return t},r.animate=function(e,r,a,i,s,o){"function"!=typeof s||s.length||(o=s,s=n.linear);var l=n.time(),c=n(e,r,l,l+i,n.time,a,s);return o&&t.once("mina.finish."+c.id,o),c},e.stop=function(){for(var e=this.inAnim(),t=0,n=e.length;n>t;t++)e[t].stop();return this},e.animate=function(e,r,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear),e instanceof u&&(s=e.callback,a=e.easing,r=a.dur,e=e.attr);var l,c,h,d,f=[],_=[],p={},g=this;for(var m in e)if(e[F](m)){g.equal?(d=g.equal(m,j(e[m])),l=d.from,c=d.to,h=d.f):(l=+g.attr(m),c=+e[m]);var v=i(l,"array")?l.length:1;p[m]=o(f.length,f.length+v,h),f=f.concat(l),_=_.concat(c)}var y=n.time(),b=n(f,_,y,y+r,n.time,function(e){var t={};for(var n in p)p[F](n)&&(t[n]=p[n](e));g.attr(t)},a);return g.anims[b.id]=b,b._attrs=e,b._callback=s,t.once("mina.finish."+b.id,function(){delete g.anims[b.id],s&&s.call(g)}),t.once("mina.stop."+b.id,function(){delete g.anims[b.id]}),g};var h={};e.data=function(e,n){var a=h[this.id]=h[this.id]||{};if(0==arguments.length)return t("snap.data.get."+this.id,this,a,null),a;if(1==arguments.length){if(r.is(e,"object")){for(var i in e)e[F](i)&&this.data(i,e[i]);return this}return t("snap.data.get."+this.id,this,a[e],e),a[e]}return a[e]=n,t("snap.data.set."+this.id,this,n,e),this},e.removeData=function(e){return null==e?h[this.id]={}:h[this.id]&&delete h[this.id][e],this},e.outerSVG=e.toString=l(1),e.innerSVG=l()}(b.prototype),r.parse=function(e){var t=O.doc.createDocumentFragment(),n=!0,r=O.doc.createElement("div");if(e=j(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),r.innerHTML=e,e=r.getElementsByTagName("svg")[0])if(n)t=e;else for(;e.firstChild;)t.appendChild(e.firstChild);return r.innerHTML=z,new x(t)},x.prototype.select=b.prototype.select,x.prototype.selectAll=b.prototype.selectAll,r.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=O.doc.createDocumentFragment(),n=0,a=e.length;a>n;n++){var i=e[n];i.node&&i.node.nodeType&&t.appendChild(i.node),i.nodeType&&t.appendChild(i),"string"==typeof i&&t.appendChild(r.parse(i).node)}return new x(t)},function(e){e.el=function(e,t){return k(e,this.node).attr(t)},e.rect=function(e,t,n,r,a,s){var o;return null==s&&(s=a),i(e,"object")&&"x"in e?o=e:null!=e&&(o={x:e,y:t,width:n,height:r},null!=a&&(o.rx=a,o.ry=s)),this.el("rect",o)},e.circle=function(e,t,n){var r;return i(e,"object")&&"cx"in e?r=e:null!=e&&(r={cx:e,cy:t,r:n}),this.el("circle",r)},e.image=function(e,t,n,r,s){var o=k("image",this.node);if(i(e,"object")&&"src"in e)o.attr(e);else if(null!=e){var l={"xlink:href":e,preserveAspectRatio:"none"};null!=t&&null!=n&&(l.x=t,l.y=n),null!=r&&null!=s?(l.width=r,l.height=s):ce(e,function(){a(o.node,{width:this.offsetWidth,height:this.offsetHeight})}),a(o.node,l)}return o},e.ellipse=function(e,t,n,r){var a=k("ellipse",this.node);return i(e,"object")&&"cx"in e?a.attr(e):null!=e&&a.attr({cx:e,cy:t,rx:n,ry:r}),a},e.path=function(e){var t=k("path",this.node);return i(e,"object")&&!i(e,"array")?t.attr(e):e&&t.attr({d:e}),t},e.group=e.g=function(t){var n=k("g",this.node);n.add=y;for(var r in e)e[F](r)&&(n[r]=e[r]);return 1==arguments.length&&t&&!t.type?n.attr(t):arguments.length&&n.add(Array.prototype.slice.call(arguments,0)),n},e.text=function(e,t,n){var r=k("text",this.node);return i(e,"object")?r.attr(e):null!=e&&r.attr({x:e,y:t,text:n||""}),r},e.line=function(e,t,n,r){var a=k("line",this.node);return i(e,"object")?a.attr(e):null!=e&&a.attr({x1:e,x2:n,y1:t,y2:r}),a},e.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t=k("polyline",this.node);return i(e,"object")&&!i(e,"array")?t.attr(e):null!=e&&t.attr({points:e}),t},e.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t=k("polygon",this.node);return i(e,"object")&&!i(e,"array")?t.attr(e):null!=e&&t.attr({points:e}),t},function(){e.gradient=function(e){return P(this.defs,e)},e.gradientLinear=function(e,t,n,r){return A(this.defs,e,t,n,r)},e.gradientRadial=function(e,t,n,r,a){return Y(this.defs,e,t,n,r,a)},e.toString=function(){var e,t=O.doc.createDocumentFragment(),n=O.doc.createElement("div"),r=this.node.cloneNode(!0);return t.appendChild(n),n.appendChild(r),a(r,{xmlns:se}),e=n.innerHTML,t.removeChild(t.firstChild),e},e.clear=function(){for(var e,t=this.node.firstChild;t;)e=t.nextSibling,"defs"!=t.tagName&&t.parentNode.removeChild(t),t=e}}()}(S.prototype),r.ajax=function(e,n,r,a){var s=new XMLHttpRequest,o=ae();if(s){if(i(n,"function"))a=r,r=n,n=null;else if(i(n,"object")){var l=[];for(var c in n)n.hasOwnProperty(c)&&l.push(encodeURIComponent(c)+"="+encodeURIComponent(n[c]));n=l.join("&")}return s.open(n?"POST":"GET",e,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),n&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r&&(t.once("snap.ajax."+o+".0",r),t.once("snap.ajax."+o+".200",r),t.once("snap.ajax."+o+".304",r)),s.onreadystatechange=function(){4==s.readyState&&t("snap.ajax."+o+"."+s.status,a,s)},4==s.readyState?s:(s.send(n),s)}},r.load=function(e,t,n){r.ajax(e,function(e){var a=r.parse(e.responseText);n?t.call(n,a):t(a)})},t.on("snap.util.attr.mask",function(e){if(e instanceof b||e instanceof x){if(t.stop(),e instanceof x&&1==e.node.childNodes.length&&(e=e.node.firstChild,m(this).appendChild(e),e=T(e)),"mask"==e.type)var n=e;else n=k("mask",m(this)),n.node.appendChild(e.node),!n.node.id&&a(n.node,{id:n.id});a(this.node,{mask:le(n.id)})}}),function(e){t.on("snap.util.attr.clip",e),t.on("snap.util.attr.clip-path",e),t.on("snap.util.attr.clipPath",e)}(function(e){if(e instanceof b||e instanceof x){if(t.stop(),"clipPath"==e.type)var n=e;else n=k("clipPath",m(this)),n.node.appendChild(e.node),!n.node.id&&a(n.node,{id:n.id});a(this.node,{"clip-path":le(n.id)})}}),t.on("snap.util.attr.fill",q("fill")),t.on("snap.util.attr.stroke",q("stroke"));var ve=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on("snap.util.grad.parse",function(e){e=j(e);var t=e.match(ve);if(!t)return null;var n=t[1],r=t[2],a=t[3];return r=r.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),1==r.length&&0==r[0]&&(r=[]),a=a.split("-"),a=a.map(function(e){e=e.split(":");var t={color:e[0]};return e[1]&&(t.offset=e[1]),t}),{type:n,params:r,stops:a}}),t.on("snap.util.attr.d",function(e){t.stop(),i(e,"array")&&i(e[0],"array")&&(e=r.path.toString.call(e)),e=j(e),e.match(/[ruo]/i)&&(e=r.path.toAbsolute(e)),a(this.node,{d:e})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=j(e);for(var n=O.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.viewBox",function(e){var n;n=i(e,"object")&&"x"in e?[e.x,e.y,e.width,e.height].join(" "):i(e,"array")?e.join(" "):e,a(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){"rect"==this.type&&(t.stop(),a(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){if(t.stop(),"text"==this.type){var n,r,s;if(!e&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(i(e,"string")){var o=m(this),l=T(o.parentNode).path(e);o.appendChild(l.node),n=l.id,l.attr({id:n})}else e=T(e),e instanceof b&&(n=e.attr("id"),n||(n=e.id,e.attr({id:n})));if(n)if(r=this.textPath,s=this.node,r)r.attr({"xlink:href":"#"+n});else{for(r=a("textPath",{"xlink:href":"#"+n});s.firstChild;)r.appendChild(s.firstChild);s.appendChild(r),this.textPath=T(r)}}})(-1),t.on("snap.util.attr.text",function(e){if("text"==this.type){for(var n=this.node,r=function(e){var t=a("tspan");if(i(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(r(e[n]));else t.appendChild(O.doc.createTextNode(e));return t.normalize&&t.normalize(),t};n.firstChild;)n.removeChild(n.firstChild);for(var s=r(e);s.firstChild;)n.appendChild(s.firstChild)}t.stop()})(-1);var ye={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=e;var i=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),s=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});ye[F](s)?this.node.style[i]=null==e?z:e:a(this.node,r)}),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function e(e){return function(){t.stop();var n=O.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+e);return"none"==n?n:r(O.doc.getElementById(n.match(X)[1]))}}function n(e){return function(n){t.stop();var r="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(""==n||!n)return void(this.node.style[r]="none");if("marker"==n.type){var i=n.node.id;return i||a(n.node,{id:n.id}),void(this.node.style[r]=le(i))}}}t.on("snap.util.getattr.marker-end",e("end"))(-1),t.on("snap.util.getattr.markerEnd",e("end"))(-1),t.on("snap.util.getattr.marker-start",e("start"))(-1),t.on("snap.util.getattr.markerStart",e("start"))(-1),t.on("snap.util.getattr.marker-mid",e("mid"))(-1),t.on("snap.util.getattr.markerMid",e("mid"))(-1),t.on("snap.util.attr.marker-end",n("end"))(-1),t.on("snap.util.attr.markerEnd",n("end"))(-1),t.on("snap.util.attr.marker-start",n("start"))(-1),t.on("snap.util.attr.markerStart",n("start"))(-1),t.on("snap.util.attr.marker-mid",n("mid"))(-1),t.on("snap.util.attr.markerMid",n("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){return"rect"==this.type&&a(this.node,"rx")==a(this.node,"ry")?(t.stop(),a(this.node,"rx")):void 0})(-1),t.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){t.stop();var e=N(this.node);return 1==e.length?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var e=a(this.node,"viewBox").split(Z);return r._.box(+e[0],+e[1],+e[2],+e[3])})(-1),t.on("snap.util.getattr.points",function(){var e=a(this.node,"points");return t.stop(),e.split(Z)}),t.on("snap.util.getattr.path",function(){var e=a(this.node,"d");return t.stop(),e}),t.on("snap.util.getattr",function(){var e=t.nt();e=e.substring(e.lastIndexOf(".")+1);var n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return ye[F](n)?O.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):a(this.node,e)});var be=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,a=n.documentElement,i=a.clientTop||r.clientTop||0,s=a.clientLeft||r.clientLeft||0,o=t.top+(g.win.pageYOffset||a.scrollTop||r.scrollTop)-i,l=t.left+(g.win.pageXOffset||a.scrollLeft||r.scrollLeft)-s;return{y:o,x:l}};return r.getElementByPoint=function(e,t){var n=this,r=(n.canvas,O.doc.elementFromPoint(e,t));if(O.win.opera&&"svg"==r.tagName){var a=be(r),i=r.createSVGRect();i.x=e-a.x,i.y=t-a.y,i.width=i.height=1;var s=r.getIntersectionList(i,null);s.length&&(r=s[s.length-1])}return r?T(r):null},r.plugin=function(e){e(r,b,S,O)},O.win.Snap=r,r}();return r.plugin(function(e,t){function n(e){var t=n.ps=n.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[E](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function r(e,t,n,r){return null==e&&(e=t=n=r=0),null==t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:G.min(n,r)/2,r2:G.max(n,r)/2,r0:G.sqrt(n*n+r*r)/2,path:x(e,t,n,r),vb:[e,t,n,r].join(" ")}}function a(){return this.join(",").replace(L,"$1")}function i(e){var t=j(e);return t.toString=a,t}function s(e,t,n,r,a,i,s,o,c){return null==c?f(e,t,n,r,a,i,s,o):l(e,t,n,r,a,i,s,o,_(e,t,n,r,a,i,s,o,c))}function o(n,r){function a(e){return+(+e).toFixed(3)}return e._.cacher(function(e,i,o){e instanceof t&&(e=e.attr("d")),e=Y(e);for(var c,u,h,d,f,_="",p={},g=0,m=0,v=e.length;v>m;m++){if(h=e[m],"M"==h[0])c=+h[1],u=+h[2];else{if(d=s(c,u,h[1],h[2],h[3],h[4],h[5],h[6]),g+d>i){if(r&&!p.start){if(f=s(c,u,h[1],h[2],h[3],h[4],h[5],h[6],i-g),_+=["C"+a(f.start.x),a(f.start.y),a(f.m.x),a(f.m.y),a(f.x),a(f.y)],o)return _;p.start=_,_=["M"+a(f.x),a(f.y)+"C"+a(f.n.x),a(f.n.y),a(f.end.x),a(f.end.y),a(h[5]),a(h[6])].join(),g+=d,c=+h[5],u=+h[6];continue}if(!n&&!r)return f=s(c,u,h[1],h[2],h[3],h[4],h[5],h[6],i-g)}g+=d,c=+h[5],u=+h[6]}_+=h.shift()+h}return p.end=_,f=n?g:r?p:l(c,u,h[0],h[1],h[2],h[3],h[4],h[5],1)},null,e._.clone)}function l(e,t,n,r,a,i,s,o,l){var c=1-l,u=z(c,3),h=z(c,2),d=l*l,f=d*l,_=u*e+3*h*l*n+3*c*l*l*a+f*s,p=u*t+3*h*l*r+3*c*l*l*i+f*o,g=e+2*l*(n-e)+d*(a-2*n+e),m=t+2*l*(r-t)+d*(i-2*r+t),v=n+2*l*(a-n)+d*(s-2*a+n),y=r+2*l*(i-r)+d*(o-2*i+r),b=c*e+l*n,w=c*t+l*r,x=c*a+l*s,k=c*i+l*o,S=90-180*G.atan2(g-v,m-y)/U;return{x:_,y:p,m:{x:g,y:m},n:{x:v,y:y},start:{x:b,y:w},end:{x:x,y:k},alpha:S}}function c(t,n,a,i,s,o,l,c){e.is(t,"array")||(t=[t,n,a,i,s,o,l,c]);var u=A.apply(null,t);return r(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function u(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function h(e,t){return e=r(e),t=r(t),u(t,e.x,e.y)||u(t,e.x2,e.y)||u(t,e.x,e.y2)||u(t,e.x2,e.y2)||u(e,t.x,t.y)||u(e,t.x2,t.y)||u(e,t.x,t.y2)||u(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function d(e,t,n,r,a){var i=-3*t+9*n-9*r+3*a,s=e*i+6*t-12*n+6*r;return e*s-3*t+3*n}function f(e,t,n,r,a,i,s,o,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var c=l/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],_=0,p=0;u>p;p++){var g=c*h[p]+c,m=d(g,e,n,a,s),v=d(g,t,r,i,o),y=m*m+v*v;_+=f[p]*G.sqrt(y)}return c*_}function _(e,t,n,r,a,i,s,o,l){if(!(0>l||f(e,t,n,r,a,i,s,o)<l)){var c,u=1,h=u/2,d=u-h,_=.01;for(c=f(e,t,n,r,a,i,s,o,d);R(c-l)>_;)h/=2,d+=(l>c?1:-1)*h,c=f(e,t,n,r,a,i,s,o,d);return d}}function p(e,t,n,r,a,i,s,o){if(!(H(e,n)<B(a,s)||B(e,n)>H(a,s)||H(t,r)<B(i,o)||B(t,r)>H(i,o))){var l=(e*r-t*n)*(a-s)-(e-n)*(a*o-i*s),c=(e*r-t*n)*(i-o)-(t-r)*(a*o-i*s),u=(e-n)*(i-o)-(t-r)*(a-s);if(u){var h=l/u,d=c/u,f=+h.toFixed(2),_=+d.toFixed(2);if(!(f<+B(e,n).toFixed(2)||f>+H(e,n).toFixed(2)||f<+B(a,s).toFixed(2)||f>+H(a,s).toFixed(2)||_<+B(t,r).toFixed(2)||_>+H(t,r).toFixed(2)||_<+B(i,o).toFixed(2)||_>+H(i,o).toFixed(2)))return{x:h,y:d}}}}function g(e,t,n){var r=c(e),a=c(t);if(!h(r,a))return n?0:[];for(var i=f.apply(0,e),s=f.apply(0,t),o=~~(i/5),u=~~(s/5),d=[],_=[],g={},m=n?0:[],v=0;o+1>v;v++){var y=l.apply(0,e.concat(v/o));d.push({x:y.x,y:y.y,t:v/o})}for(v=0;u+1>v;v++)y=l.apply(0,t.concat(v/u)),_.push({x:y.x,y:y.y,t:v/u});for(v=0;o>v;v++)for(var b=0;u>b;b++){var w=d[v],x=d[v+1],k=_[b],S=_[b+1],T=R(x.x-w.x)<.001?"y":"x",M=R(S.x-k.x)<.001?"y":"x",C=p(w.x,w.y,x.x,x.y,k.x,k.y,S.x,S.y);if(C){if(g[C.x.toFixed(4)]==C.y.toFixed(4))continue;g[C.x.toFixed(4)]=C.y.toFixed(4);var D=w.t+R((C[T]-w[T])/(x[T]-w[T]))*(x.t-w.t),P=k.t+R((C[M]-k[M])/(S[M]-k[M]))*(S.t-k.t);D>=0&&1>=D&&P>=0&&1>=P&&(n?m++:m.push({x:C.x,y:C.y,t1:D,t2:P}))}}return m}function m(e,t){return y(e,t)}function v(e,t){return y(e,t,1)}function y(e,t,n){e=Y(e),t=Y(t);for(var r,a,i,s,o,l,c,u,h,d,f=n?0:[],_=0,p=e.length;p>_;_++){var m=e[_];if("M"==m[0])r=o=m[1],a=l=m[2];else{"C"==m[0]?(h=[r,a].concat(m.slice(1)),r=h[6],a=h[7]):(h=[r,a,r,a,o,l,o,l],r=o,a=l);for(var v=0,y=t.length;y>v;v++){var b=t[v];if("M"==b[0])i=c=b[1],s=u=b[2];else{"C"==b[0]?(d=[i,s].concat(b.slice(1)),i=d[6],s=d[7]):(d=[i,s,i,s,c,u,c,u],i=c,s=u);var w=g(h,d,n);if(n)f+=w;else{for(var x=0,k=w.length;k>x;x++)w[x].segment1=_,w[x].segment2=v,w[x].bez1=h,w[x].bez2=d;f=f.concat(w)}}}}}return f}function b(e,t,n){var r=w(e);return u(r,t,n)&&1==y(e,[["M",t,n],["H",r.x2+10]],1)%2}function w(e){var t=n(e);if(t.bbox)return j(t.bbox);if(!e)return r();e=Y(e);for(var a,i=0,s=0,o=[],l=[],c=0,u=e.length;u>c;c++)if(a=e[c],"M"==a[0])i=a[1],s=a[2],o.push(i),l.push(s);else{var h=A(i,s,a[1],a[2],a[3],a[4],a[5],a[6]);o=o.concat(h.min.x,h.max.x),l=l.concat(h.min.y,h.max.y),i=a[5],s=a[6]}var d=B.apply(0,o),f=B.apply(0,l),_=H.apply(0,o),p=H.apply(0,l),g=r(d,f,_-d,p-f);return t.bbox=j(g),g}function x(e,t,n,r,i){if(i)return[["M",e+i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var s=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return s.toString=a,s}function k(e,t,n,r,i){if(null==i&&null==r&&(r=n),null!=i)var s=Math.PI/180,o=e+n*Math.cos(-r*s),l=e+n*Math.cos(-i*s),c=t+n*Math.sin(-r*s),u=t+n*Math.sin(-i*s),h=[["M",o,c],["A",n,n,0,+(i-r>180),0,l,u]];else h=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];
return h.toString=a,h}function S(t){var r=n(t),s=String.prototype.toLowerCase;if(r.rel)return i(r.rel);e.is(t,"array")&&e.is(t&&t[0],"array")||(t=e.parsePathString(t));var o=[],l=0,c=0,u=0,h=0,d=0;"M"==t[0][0]&&(l=t[0][1],c=t[0][2],u=l,h=c,d++,o.push(["M",l,c]));for(var f=d,_=t.length;_>f;f++){var p=o[f]=[],g=t[f];if(g[0]!=s.call(g[0]))switch(p[0]=s.call(g[0]),p[0]){case"a":p[1]=g[1],p[2]=g[2],p[3]=g[3],p[4]=g[4],p[5]=g[5],p[6]=+(g[6]-l).toFixed(3),p[7]=+(g[7]-c).toFixed(3);break;case"v":p[1]=+(g[1]-c).toFixed(3);break;case"m":u=g[1],h=g[2];default:for(var m=1,v=g.length;v>m;m++)p[m]=+(g[m]-(m%2?l:c)).toFixed(3)}else{p=o[f]=[],"m"==g[0]&&(u=g[1]+l,h=g[2]+c);for(var y=0,b=g.length;b>y;y++)o[f][y]=g[y]}var w=o[f].length;switch(o[f][0]){case"z":l=u,c=h;break;case"h":l+=+o[f][w-1];break;case"v":c+=+o[f][w-1];break;default:l+=+o[f][w-2],c+=+o[f][w-1]}}return o.toString=a,r.rel=i(o),o}function T(t){var r=n(t);if(r.abs)return i(r.abs);if(F(t,"array")&&F(t&&t[0],"array")||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var s,o=[],l=0,c=0,u=0,h=0,d=0;"M"==t[0][0]&&(l=+t[0][1],c=+t[0][2],u=l,h=c,d++,o[0]=["M",l,c]);for(var f,_,p=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),g=d,m=t.length;m>g;g++){if(o.push(f=[]),_=t[g],s=_[0],s!=s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=_[1],f[2]=_[2],f[3]=_[3],f[4]=_[4],f[5]=_[5],f[6]=+(_[6]+l),f[7]=+(_[7]+c);break;case"V":f[1]=+_[1]+c;break;case"H":f[1]=+_[1]+l;break;case"R":for(var v=[l,c].concat(_.slice(1)),y=2,b=v.length;b>y;y++)v[y]=+v[y]+l,v[++y]=+v[y]+c;o.pop(),o=o.concat(N(v,p));break;case"O":o.pop(),v=k(l,c,_[1],_[2]),v.push(v[0]),o=o.concat(v);break;case"U":o.pop(),o=o.concat(k(l,c,_[1],_[2],_[3])),f=["U"].concat(o[o.length-1].slice(-2));break;case"M":u=+_[1]+l,h=+_[2]+c;default:for(y=1,b=_.length;b>y;y++)f[y]=+_[y]+(y%2?l:c)}else if("R"==s)v=[l,c].concat(_.slice(1)),o.pop(),o=o.concat(N(v,p)),f=["R"].concat(_.slice(-2));else if("O"==s)o.pop(),v=k(l,c,_[1],_[2]),v.push(v[0]),o=o.concat(v);else if("U"==s)o.pop(),o=o.concat(k(l,c,_[1],_[2],_[3])),f=["U"].concat(o[o.length-1].slice(-2));else for(var w=0,x=_.length;x>w;w++)f[w]=_[w];if(s=s.toUpperCase(),"O"!=s)switch(f[0]){case"Z":l=u,c=h;break;case"H":l=f[1];break;case"V":c=f[1];break;case"M":u=f[f.length-2],h=f[f.length-1];default:l=f[f.length-2],c=f[f.length-1]}}return o.toString=a,r.abs=i(o),o}function M(e,t,n,r){return[e,t,n,r,n,r]}function C(e,t,n,r,a,i){var s=1/3,o=2/3;return[s*e+o*n,s*t+o*r,s*a+o*n,s*i+o*r,a,i]}function D(t,n,r,a,i,s,o,l,c,u){var h,d=120*U/180,f=U/180*(+i||0),_=[],p=e._.cacher(function(e,t,n){var r=e*G.cos(n)-t*G.sin(n),a=e*G.sin(n)+t*G.cos(n);return{x:r,y:a}});if(u)S=u[0],T=u[1],x=u[2],k=u[3];else{h=p(t,n,-f),t=h.x,n=h.y,h=p(l,c,-f),l=h.x,c=h.y;var g=(G.cos(U/180*i),G.sin(U/180*i),(t-l)/2),m=(n-c)/2,v=g*g/(r*r)+m*m/(a*a);v>1&&(v=G.sqrt(v),r=v*r,a=v*a);var y=r*r,b=a*a,w=(s==o?-1:1)*G.sqrt(R((y*b-y*m*m-b*g*g)/(y*m*m+b*g*g))),x=w*r*m/a+(t+l)/2,k=w*-a*g/r+(n+c)/2,S=G.asin(((n-k)/a).toFixed(9)),T=G.asin(((c-k)/a).toFixed(9));S=x>t?U-S:S,T=x>l?U-T:T,0>S&&(S=2*U+S),0>T&&(T=2*U+T),o&&S>T&&(S-=2*U),!o&&T>S&&(T-=2*U)}var M=T-S;if(R(M)>d){var C=T,P=l,A=c;T=S+d*(o&&T>S?1:-1),l=x+r*G.cos(T),c=k+a*G.sin(T),_=D(l,c,r,a,i,0,o,P,A,[T,C,x,k])}M=T-S;var Y=G.cos(S),q=G.sin(S),N=G.cos(T),O=G.sin(T),F=G.tan(M/4),j=4/3*r*F,E=4/3*a*F,L=[t,n],I=[t+j*q,n-E*Y],B=[l+j*O,c-E*N],H=[l,c];if(I[0]=2*L[0]-I[0],I[1]=2*L[1]-I[1],u)return[I,B,H].concat(_);_=[I,B,H].concat(_).join().split(",");for(var z=[],$=0,W=_.length;W>$;$++)z[$]=$%2?p(_[$-1],_[$],f).y:p(_[$],_[$+1],f).x;return z}function P(e,t,n,r,a,i,s,o,l){var c=1-l;return{x:z(c,3)*e+3*z(c,2)*l*n+3*c*l*l*a+z(l,3)*s,y:z(c,3)*t+3*z(c,2)*l*r+3*c*l*l*i+z(l,3)*o}}function A(e,t,n,r,a,i,s,o){var l,c=a-2*n+e-(s-2*a+n),u=2*(n-e)-2*(a-n),h=e-n,d=(-u+G.sqrt(u*u-4*c*h))/2/c,f=(-u-G.sqrt(u*u-4*c*h))/2/c,_=[t,o],p=[e,s];return R(d)>"1e12"&&(d=.5),R(f)>"1e12"&&(f=.5),d>0&&1>d&&(l=P(e,t,n,r,a,i,s,o,d),p.push(l.x),_.push(l.y)),f>0&&1>f&&(l=P(e,t,n,r,a,i,s,o,f),p.push(l.x),_.push(l.y)),c=i-2*r+t-(o-2*i+r),u=2*(r-t)-2*(i-r),h=t-r,d=(-u+G.sqrt(u*u-4*c*h))/2/c,f=(-u-G.sqrt(u*u-4*c*h))/2/c,R(d)>"1e12"&&(d=.5),R(f)>"1e12"&&(f=.5),d>0&&1>d&&(l=P(e,t,n,r,a,i,s,o,d),p.push(l.x),_.push(l.y)),f>0&&1>f&&(l=P(e,t,n,r,a,i,s,o,f),p.push(l.x),_.push(l.y)),{min:{x:B.apply(0,p),y:B.apply(0,_)},max:{x:H.apply(0,p),y:H.apply(0,_)}}}function Y(e,t){var r=!t&&n(e);if(!t&&r.curve)return i(r.curve);for(var a=T(e),s=t&&T(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=(function(e,t){var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(D.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),e=["C",n,r].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(C(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(C(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(M(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(M(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(M(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(M(t.x,t.y,t.X,t.Y))}return e}),u=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),f=H(a.length,s&&s.length||0)}},h=function(e,t,n,r,i){e&&t&&"M"==e[i][0]&&"M"!=t[i][0]&&(t.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[i][1],n.y=e[i][2],f=H(a.length,s&&s.length||0))},d=0,f=H(a.length,s&&s.length||0);f>d;d++){a[d]=c(a[d],o),u(a,d),s&&(s[d]=c(s[d],l)),s&&u(s,d),h(a,s,o,l,d),h(s,a,l,o,d);var _=a[d],p=s&&s[d],g=_.length,m=s&&p.length;o.x=_[g-2],o.y=_[g-1],o.bx=I(_[g-4])||o.x,o.by=I(_[g-3])||o.y,l.bx=s&&(I(p[m-4])||l.x),l.by=s&&(I(p[m-3])||l.y),l.x=s&&p[m-2],l.y=s&&p[m-1]}return s||(r.curve=i(a)),s?[a,s]:a}function q(e,t){if(!t)return e;var n,r,a,i,s,o,l;for(e=Y(e),a=0,s=e.length;s>a;a++)for(l=e[a],i=1,o=l.length;o>i;i+=2)n=t.x(l[i],l[i+1]),r=t.y(l[i],l[i+1]),l[i]=n,l[i+1]=r;return e}function N(e,t){for(var n=[],r=0,a=e.length;a-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?a-4==r?i[3]={x:+e[0],y:+e[1]}:a-2==r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[a-2],y:+e[a-1]}:a-4==r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}var O=t.prototype,F=e.is,j=e._.clone,E="hasOwnProperty",L=/,?([a-z]),?/gi,I=parseFloat,G=Math,U=G.PI,B=G.min,H=G.max,z=G.pow,R=G.abs,$=o(1),W=o(),X=o(0,1),V=e._unit2px,Z={path:function(e){return e.attr("path")},circle:function(e){var t=V(e);return k(t.cx,t.cy,t.r)},ellipse:function(e){var t=V(e);return k(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=V(e);return x(t.x,t.y,t.width,t.height,t.rx,t.ry)},image:function(e){var t=V(e);return x(t.x,t.y,t.width,t.height)},text:function(e){var t=e.node.getBBox();return x(t.x,t.y,t.width,t.height)},g:function(e){var t=e.node.getBBox();return x(t.x,t.y,t.width,t.height)},symbol:function(e){var t=e.getBBox();return x(t.x,t.y,t.width,t.height)},line:function(e){return"M"+[e.attr("x1"),e.attr("y1"),e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},svg:function(e){var t=e.node.getBBox();return x(t.x,t.y,t.width,t.height)},deflt:function(e){var t=e.node.getBBox();return x(t.x,t.y,t.width,t.height)}};e.path=n,e.path.getTotalLength=$,e.path.getPointAtLength=W,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return X(e,t).end;var r=X(e,n,1);return t?X(r,t).end:r},O.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},O.getPointAtLength=function(e){return W(this.attr("d"),e)},O.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=r,e.path.findDotsAtSegment=l,e.path.bezierBBox=c,e.path.isPointInsideBBox=u,e.path.isBBoxIntersect=h,e.path.intersection=m,e.path.intersectionNumber=v,e.path.isPointInside=b,e.path.getBBox=w,e.path.get=Z,e.path.toRelative=S,e.path.toAbsolute=T,e.path.toCubic=Y,e.path.map=q,e.path.toString=a,e.path.clone=i}),r.plugin(function(e){var t=Math.max,n=Math.min,r=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,n=e.length;n>t;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},a=r.prototype;a.push=function(){for(var e,t,n=0,r=arguments.length;r>n;n++)e=arguments[n],e&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},a.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},a.forEach=function(e,t){for(var n=0,r=this.items.length;r>n;n++)if(e.call(t,this.items[n],n)===!1)return this;return this},a.remove=function(){for(;this.length;)this.pop().remove();return this},a.attr=function(e){for(var t=0,n=this.items.length;n>t;t++)this.items[t].attr(e);return this},a.clear=function(){for(;this.length;)this.pop()},a.splice=function(e,a){e=0>e?t(this.length+e,0):e,a=t(0,n(this.length-e,a));var i,s=[],o=[],l=[];for(i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;a>i;i++)o.push(this[e+i]);for(;i<this.length-e;i++)s.push(this[e+i]);var c=l.length;for(i=0;i<c+s.length;i++)this.items[e+i]=this[e+i]=c>i?l[i]:s[i-c];for(i=this.items.length=this.length-=a-c;this[i];)delete this[i++];return new r(o)},a.exclude=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},a.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},a.getBBox=function(){for(var e=[],r=[],a=[],i=[],s=this.items.length;s--;)if(!this.items[s].removed){var o=this.items[s].getBBox();e.push(o.x),r.push(o.y),a.push(o.x+o.width),i.push(o.y+o.height)}return e=n.apply(0,e),r=n.apply(0,r),a=t.apply(0,a),i=t.apply(0,i),{x:e,y:r,x2:a,y2:i,width:a-e,height:i-r,cx:e+(a-e)/2,cy:r+(i-r)/2}},a.clone=function(e){e=new r;for(var t=0,n=this.items.length;n>t;t++)e.push(this.items[t].clone());return e},a.toString=function(){return"Snap‘s set"},a.type="set",e.set=function(){var e=new r;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),r.plugin(function(e,t){function n(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}}function r(t,r,a){r=h(r).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],r=e.parseTransformString(r)||[];for(var i,s,c,u,d=Math.max(t.length,r.length),f=[],_=[],p=0;d>p;p++){if(c=t[p]||n(r[p]),u=r[p]||n(c),c[0]!=u[0]||"r"==c[0].toLowerCase()&&(c[2]!=u[2]||c[3]!=u[3])||"s"==c[0].toLowerCase()&&(c[3]!=u[3]||c[4]!=u[4])){t=e._.transform2matrix(t,a()),r=e._.transform2matrix(r,a()),f=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],_=[["m",r.a,r.b,r.c,r.d,r.e,r.f]];break}for(f[p]=[],_[p]=[],i=0,s=Math.max(c.length,u.length);s>i;i++)i in c&&(f[p][i]=c[i]),i in u&&(_[p][i]=u[i])}return{from:l(f),to:l(_),f:o(f)}}function a(e){return e}function i(e){return function(t){return+t.toFixed(3)+e}}function s(t){return e.rgb(t[0],t[1],t[2])}function o(e){var t,n,r,a,i,s,o=0,l=[];for(t=0,n=e.length;n>t;t++){for(i="[",s=['"'+e[t][0]+'"'],r=1,a=e[t].length;a>r;r++)s[r]="val["+o++ +"]";i+=s+"]",l[t]=i}return Function("val","return Snap.path.toString.call(["+l+"])")}function l(e){for(var t=[],n=0,r=e.length;r>n;n++)for(var a=1,i=e[n].length;i>a;a++)t.push(e[n][a]);return t}var c={},u=/[a-z]+$/i,h=String;c.stroke=c.fill="colour",t.prototype.equal=function(t,n){var d,f,_=h(this.attr(t)||""),p=this;if(_==+_&&n==+n)return{from:+_,to:+n,f:a};if("colour"==c[t])return d=e.color(_),f=e.color(n),{from:[d.r,d.g,d.b,d.opacity],to:[f.r,f.g,f.b,f.opacity],f:s};if("transform"==t||"gradientTransform"==t||"patternTransform"==t)return n instanceof e.Matrix&&(n=n.toTransformString()),e._.rgTransform.test(n)||(n=e._.svgTransform2string(n)),r(_,n,function(){return p.getBBox(1)});if("d"==t||"path"==t)return d=e.path.toCubic(_,n),{from:l(d[0]),to:l(d[1]),f:o(d[0])};if("points"==t)return d=h(_).split(","),f=h(n).split(","),{from:d,to:f,f:function(e){return e}};var g=_.match(u),m=h(n).match(u);return g&&g==m?{from:parseFloat(_),to:parseFloat(n),f:i(g)}:{from:this.asPX(t),to:this.asPX(t,n),f:a}}}),r.plugin(function(e,n,r,a){for(var i=n.prototype,s="hasOwnProperty",o=("createTouch"in a.doc),l=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},u=function(e){var t="y"==e?"scrollTop":"scrollLeft";return a.doc.documentElement[t]||a.doc.body[t]},h=function(){this.returnValue=!1},d=function(){return this.originalEvent.preventDefault()},f=function(){this.cancelBubble=!0},_=function(){return this.originalEvent.stopPropagation()},p=function(){return a.doc.addEventListener?function(e,t,n,r){var a=o&&c[t]?c[t]:t,i=function(a){var i=u("y"),l=u("x");if(o&&c[s](t))for(var h=0,f=a.targetTouches&&a.targetTouches.length;f>h;h++)if(a.targetTouches[h].target==e||e.contains(a.targetTouches[h].target)){var p=a;a=a.targetTouches[h],a.originalEvent=p,a.preventDefault=d,a.stopPropagation=_;break}var g=a.clientX+l,m=a.clientY+i;return n.call(r,a,g,m)};return t!==a&&e.addEventListener(t,i,!1),e.addEventListener(a,i,!1),function(){return t!==a&&e.removeEventListener(t,i,!1),e.removeEventListener(a,i,!1),!0}}:a.doc.attachEvent?function(e,t,n,r){var i=function(e){e=e||a.win.event;var t=u("y"),i=u("x"),s=e.clientX+i,o=e.clientY+t;return e.preventDefault=e.preventDefault||h,e.stopPropagation=e.stopPropagation||f,n.call(r,e,s,o)};e.attachEvent("on"+t,i);var s=function(){return e.detachEvent("on"+t,i),!0};return s}:void 0}(),g=[],m=function(n){for(var r,a=n.clientX,i=n.clientY,s=u("y"),l=u("x"),c=g.length;c--;){if(r=g[c],o){for(var h,d=n.touches&&n.touches.length;d--;)if(h=n.touches[d],h.identifier==r.el._drag.id||r.el.node.contains(h.target)){a=h.clientX,i=h.clientY,(n.originalEvent?n.originalEvent:n).preventDefault();break}}else n.preventDefault();var f=r.el.node;e._.glob,f.nextSibling,f.parentNode,f.style.display,a+=l,i+=s,t("snap.drag.move."+r.el.id,r.move_scope||r.el,a-r.el._drag.x,i-r.el._drag.y,a,i,n)}},v=function(n){e.unmousemove(m).unmouseup(v);for(var r,a=g.length;a--;)r=g[a],r.el._drag={},t("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);g=[]},y=l.length;y--;)!function(t){e[t]=i[t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:p(this.shape||this.node||a.doc,t,n,r||this)})),this},e["un"+t]=i["un"+t]=function(e){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==t&&(n[r].f==e||!e))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(l[y]);i.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},i.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var b=[];i.drag=function(n,r,a,i,s,o){function l(l,c,u){(l.originalEvent||l).preventDefault(),this._drag.x=c,this._drag.y=u,this._drag.id=l.identifier,!g.length&&e.mousemove(m).mouseup(v),g.push({el:this,move_scope:i,start_scope:s,end_scope:o}),r&&t.on("snap.drag.start."+this.id,r),n&&t.on("snap.drag.move."+this.id,n),a&&t.on("snap.drag.end."+this.id,a),t("snap.drag.start."+this.id,s||i||this,c,u,l)}if(!arguments.length){var c;return this.drag(function(e,t){this.attr({transform:c+(c?"T":"t")+[e,t]})},function(){c=this.transform().local})}return this._drag={},b.push({el:this,start:l}),this.mousedown(l),this},i.undrag=function(){for(var n=b.length;n--;)b[n].el==this&&(this.unmousedown(b[n].start),b.splice(n,1),t.unbind("snap.drag.*."+this.id));return!b.length&&e.unmousemove(m).unmouseup(v),this}}),r.plugin(function(e,n,r){var a=(n.prototype,r.prototype),i=/^\s*url\((.+)\)/,s=String,o=e._.$;e.filter={},a.filter=function(t){var r=this;"svg"!=r.type&&(r=r.paper);var a=e.parse(s(t)),i=e._.id(),l=(r.node.offsetWidth,r.node.offsetHeight,o("filter"));return o(l,{id:i,filterUnits:"userSpaceOnUse"}),l.appendChild(a.node),r.defs.appendChild(l),new n(l)},t.on("snap.util.getattr.filter",function(){t.stop();var n=o(this.node,"filter");if(n){var r=s(n).match(i);return r&&e.select(r[1])}}),t.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){t.stop();var a=r.node.id;a||(o(r.node,{id:r.id}),a=r.id),o(this.node,{filter:e.url(a)})}r&&"none"!=r||(t.stop(),this.node.removeAttribute("filter"))}),e.filter.blur=function(t,n){null==t&&(t=2);var r=null==n?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,r,a){return a=a||"#000",null==r&&(r=4),"string"==typeof r&&(a=r,r=4),null==t&&(t=0,n=2),null==n&&(n=t),a=e.color(a),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:a,dx:t,dy:n,blur:r})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),r}),function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,n){this.el=e,this.options=t({},this.options),t(this.options,n),this._init()}n.prototype.options={speedIn:500,easingIn:mina.linear},n.prototype._init=function(){var e=Snap(this.el.querySelector("svg"));this.path=e.select("path"),this.initialPath=this.path.attr("d");var t=this.el.getAttribute("data-opening");if(this.openingSteps=t?t.split(";"):"",this.openingStepsTotal=t?this.openingSteps.length:0,0!==this.openingStepsTotal){var n=this.el.getAttribute("data-closing")?this.el.getAttribute("data-closing"):this.initialPath;this.closingSteps=n?n.split(";"):"",this.closingStepsTotal=n?this.closingSteps.length:0,this.isAnimating=!1,this.options.speedOut||(this.options.speedOut=this.options.speedIn),this.options.easingOut||(this.options.easingOut=this.options.easingIn)}},n.prototype.show=function(){if(this.isAnimating)return!1;this.isAnimating=!0;var e=this,t=function(){classie.addClass(e.el,"pageload-loading")};this._animateSVG("in",t),classie.add(this.el,"show")},n.prototype.hide=function(){var e=this;classie.removeClass(this.el,"pageload-loading"),this._animateSVG("out",function(){e.path.attr("d",e.initialPath),classie.removeClass(e.el,"show"),e.isAnimating=!1})},n.prototype._animateSVG=function(e,t){var n=this,r=0,a="out"===e?this.closingSteps:this.openingSteps,i="out"===e?this.closingStepsTotal:this.openingStepsTotal,s="out"===e?n.options.speedOut:n.options.speedIn,o="out"===e?n.options.easingOut:n.options.easingIn,l=function(e){return e>i-1?void(t&&"function"==typeof t&&t()):(n.path.animate({path:a[e]},s,o,function(){l(e)}),void e++)};l(r)},e.SVGLoader=n}(window);var johnvspaul=angular.module("JohnVsPaul",["ngRoute"]),main_serverid="",monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],no_update_busy=!1;johnvspaul.config(["$interpolateProvider","$routeProvider","$locationProvider","$httpProvider",function(e,t,n,r){r.defaults.headers.get||(r.defaults.headers.get={}),r.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",r.defaults.headers.get["Cache-Control"]="no-cache",r.defaults.headers.get.Pragma="no-cache",e.startSymbol("//"),e.endSymbol("//"),t.when("/",{templateUrl:"API/pages/index",controller:"IndexController"}).when("/profile",{templateUrl:"API/pages/profile",controller:"ProfileController"}).when("/profile/:account_id",{templateUrl:"API/pages/profile",controller:"ProfileController"}).when("/challenges",{templateUrl:"API/pages/challenges",controller:"ChallengesController"}).when("/opponents",{templateUrl:"API/pages/opponents",controller:"OpponentsController"}).when("/leaderboard",{templateUrl:"API/pages/leaderboard",controller:"LeaderboardController"}).when("/achievements",{templateUrl:"API/pages/achievements",controller:"AchievementsController"}).when("/history",{templateUrl:"API/pages/history",controller:"ProfileController"}).when("/help",{templateUrl:"API/pages/help",controller:"ProfileController"}).when("/terms",{templateUrl:"API/pages/terms",controller:"ProfileController"}),n.html5Mode(!0)}]),johnvspaul.run(["$rootScope","$templateCache",function(e,t){e.$on("$routeChangeStart",function(e,n,r){t.remove()})}]),johnvspaul.filter("fromNow",function(){return function(e){return moment(e).fromNow()}}),johnvspaul.filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),johnvspaul.directive("input",function(){return{restrict:"E",link:function(e,t,n,r){"radio"!==n.type&&"checkbox"!==n.type&&t.bind("blur",function(){console.log(t.val(),e)})}}}),johnvspaul.directive("clickAnywhereButHere",["$document",function(e){return directiveDefinitionObject={link:{pre:function(e,t,n,r){},post:function(t,n,r,a){onClick=function(e){var a=n.has(e.target).length>0,i=n[0]==e.target,s=a||i;"loadMoreNotifications"==e.target.id||"loadMoreUp"==e.target.id||"loadMoreMiddle"==e.target.id?console.log("TEST > ",e.target.id):s||t.$apply(r.clickAnywhereButHere)},e.click(onClick)}}},directiveDefinitionObject}]),johnvspaul.factory("socket",["$rootScope",function(e){var t=io.connect("santalucia.johnvspaul.com/");return{on:function(n,r){t.on(n,function(){var n=arguments;e.$apply(function(){r.apply(t,n)})})},emit:function(n,r,a){t.emit(n,r,function(){var n=arguments;e.$apply(function(){a&&a.apply(t,n)})})}}}]),johnvspaul.factory("me",["$http",function(e){var t={me:{}};return t.loadMe=function(n){return e({url:"/API/me",method:"GET"}).success(function(e){angular.copy(e,t.me),n()})},t}]),johnvspaul.factory("notifications",["$http",function(e){var t={notifications:[]};return t.loadNotifications=function(n){return e({url:"/API/notifications",method:"GET"}).success(function(e){for(var r=0,a=0;a!=e.length;a++){for(var i=!1,s=0;s!=t.notifications.length;s++)if(e[a].notification_id==t.notifications[s].notification_id){i=!0;break}i||(r++,t.notifications.push(e[a]))}n(r)})},t.loadNotifications(function(){}),t}]),johnvspaul.factory("challenges",["$http","sounds",function(e,t){var n={challenges:[],challengesUndone:[],challenges_block:0,challenges_undone_block:0};return n.loadChallengesUndone=function(r,a){return n.challenges_undone_block>0?(console.log("CONFLICT challenges_undone_block",n.challenges_undone_block),r()):e({url:"/API/challenges_undone",method:"GET"}).success(function(i){n.challenges_undone_block=i.length;for(var s=0;s!=i.length;s++){for(var o=!1,l=0;l!=n.challengesUndone.length;l++)if(i[s].challenge_id==n.challengesUndone[l].challenge_id){o=!0;break}o?n.challenges_undone_block--:!function(r){e({url:"/API/users/"+i[r].challenge_participants.challenge_participants_challenger.account_id,method:"GET"}).success(function(e){i[r].challenger_data=e;var s=new Date(i[r].challenge_sent_date),o={monthName:monthNames[s.getMonth()],dayNumber:s.getDate(),hourNumber:s.getHours(),minutesNumber:s.getMinutes()};if(-1!=i[r].challenge_end_date){var l=new Date(i[r].challenge_end_date),c={yearNumber:l.getFullYear(),monthName:monthNames[l.getMonth()],dayNumber:l.getDate(),hourNumber:l.getHours(),minutesNumber:l.getMinutes()};i[r].challenge_end_date_info=c}i[r].challenge_sent_date_info=o,e.account_id!==main_serverid&&(a||(window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px"><a class="name">¡'+e.account_info.account_info_nominative+"</a> te ha retado!</div>"),t.sounds[2].play())),n.challengesUndone.push(i[r]),console.log("Added new undone challenge",i[r],n.challenges_undone_block),n.challenges_undone_block--})}(s)}r()})},n.loadChallenges=function(t){return n.challenges_block>0?(console.log("CONFLICT challenges_undone_block",n.challenges_block),t()):e({url:"/API/challenges",method:"GET"}).success(function(r){n.challenges_block=r.length;for(var a=0;a!=r.length;a++){for(var i=!1,s=0;s!=n.challenges.length;s++)if(r[a].challenge_id==n.challenges[s].challenge_id){i=!0;break}i?n.challenges_block--:!function(t){e({url:"/API/users/"+r[t].challenge_participants.challenge_participants_challenger.account_id,method:"GET"}).success(function(e){r[t].challenger_data=e;var a=new Date(r[t].challenge_sent_date),i={monthName:monthNames[a.getMonth()],dayNumber:a.getDate(),hourNumber:a.getHours(),minutesNumber:a.getMinutes()};if(-1!=r[t].challenge_end_date){var s=new Date(r[t].challenge_end_date),o={yearNumber:s.getFullYear(),monthName:monthNames[s.getMonth()],dayNumber:s.getDate(),hourNumber:s.getHours(),minutesNumber:s.getMinutes()};r[t].challenge_end_date_info=o}r[t].challenge_sent_date_info=i,n.challenges.push(r[t]),console.log("Added new challenge",r[t],n.challenges_block),n.challenges_block--})}(a)}t()})},n.resetChallenges=function(e){no_update_busy=!0;var t=[];angular.copy(t,n.challenges),angular.copy(t,n.challengesUndone),n.loadChallenges(function(){n.loadChallengesUndone(function(){e()},!0)})},n}]),johnvspaul.factory("sounds",function(){var e={sounds:[]};return e.load=function(t){var n=new Audio(t);return e.sounds.push(n)},e.load("/sounds/correct.wav"),e.load("/sounds/wrong.wav"),e.load("/sounds/audio_action_0.wav"),e.load("/sounds/audio_action_1.wav"),e.load("/sounds/audio_action_2.wav"),e.load("/sounds/audio_action_3.wav"),e.load("/sounds/audio_action_4.wav"),e.load("/sounds/audio_action_5.wav"),e.load("/sounds/audio_action_6.wav"),e.load("/sounds/audio_action_7.wav"),e.load("/sounds/audio_action_8.wav"),e.load("/sounds/audio_action_9.wav"),e.load("/sounds/audio_action_10.wav"),e}),johnvspaul.controller("MainController",["$scope","$interval","socket","challenges","me","notifications","sounds",function(e,t,n,r,a,i,s){var o=!1,l=!1,c=!0;e.account_main=a,e.notifications=i.notifications,e.notifications_limit=1,e.notifications_alert="display_none",n.on("onconnected",function(e){console.log("Connected successfully to the socket.io server. My server side ID is "+e.id),main_serverid=e.id,o===!0&&(a.loadMe(function(){}),r.loadChallenges(function(){}),r.loadChallengesUndone(function(){},!0),i.loadNotifications(function(){}),l===!0&&(location.reload(),l=!1)),o=!0}),n.on("disconnect",function(t){if(o===!0&&l===!1){var n=$(".loading_scope")[0];classie.addClass(n,"no_animations"),e.server_responding="show",e.$apply(),console.log("DISCONNECTED",t),l=!0}}),n.on("action",function(t){switch(t.id){case 0:setTimeout(function(){r.resetChallenges(function(){no_update_busy=!1})},2e3);break;case 1:setTimeout(function(){s.sounds[5].play()},500),e.achievement_id=t.achievement_data.achievement_id,e.achievement_title=t.achievement_data.achievement_title,e.achievement_description=t.achievement_data.achievement_description,e.achievementsDisplay="modal_total_opener",e.$apply()}}),e.challengeStart=function(){n&&n.emit("challenge",{code:2350,current_step_client:0})},e.ToggleNotificationTooltip=function(){e.showNotifications=!e.showNotifications},e.achievementDisplayToggle=function(){""==e.achievementsDisplay?e.achievementsDisplay="modal_total_opener":e.achievementsDisplay=""},e.superDuper=function(){n.emit("action",{id:0})};var u=!0;t(function(){0==no_update_busy&&a.loadMe(function(){r.loadChallenges(function(){r.loadChallengesUndone(function(){i.loadNotifications(function(t){t>0&&(e.notifications_alert="",0==c&&window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px"><a class="name">¡Tienes nuevas notificaciones!</div>')),c=!1})},u),u=!1})})},7e3)}]),johnvspaul.controller("IndexController",["$scope","$http","challenges","socket","me",function(e,t,n,r,a){window.openclose._reset(),a.loadMe(function(){e.account=a,n.loadChallengesUndone(function(){e.challenge_filter={challenge_participants:{challenge_participants_challenged:{account_id:a.me.account_id,winner:!1},challenge_participants_challenger:{winner:!1}},challenge_end_date:-1},e.challenges=n.challengesUndone},!0)}),e.challengeAccept=function(e){console.log(e),r&&r.emit("challengeAccept",{code:5e3,current_step_client:0,challenge_info:e})},e.challengeReject=function(r,i){i?t({url:"/API/challenges/reject",method:"PUT",data:r}).success(function(t){0==t.error&&n.resetChallenges(function(){no_update_busy=!1,a.loadMe(function(){e.account=a})})}):"undefined"==typeof r.rejectTooltip?r.rejectTooltip="show":"show"===r.rejectTooltip?r.rejectTooltip="":""===r.rejectTooltip&&(r.rejectTooltip="show")}}]),johnvspaul.controller("ProfileController",["$scope","$http","$routeParams","me","challenges",function(e,t,n,r,a){if(window.openclose._reset(),e.display_save="display_none",r.loadMe(function(){e.account=r}),n.account_id)t({url:"/API/users/"+n.account_id,method:"GET"}).success(function(r){var a={me:r};e.account_profile=a;var i=a.me.account_game.account_game_wons+a.me.account_game.account_game_losts,s=100*a.me.account_game.account_game_wons/i;e.win_percent=s.toFixed(2),e.surnames=a.me.account_info.account_info_fullName.substr(a.me.account_info.account_info_fullName.indexOf(" ")+1),t({url:"/API/users/"+n.account_id+"/position",method:"GET"}).success(function(r){e.position=r,t({url:"/API/users/"+n.account_id+"/achievements",method:"GET"}).success(function(t){e.achievements=t})})});else{e.noroute=!0,r.loadMe(function(){e.account_profile=r,console.log("me",r);var t=r.me.account_game.account_game_wons+r.me.account_game.account_game_losts,n=100*r.me.account_game.account_game_wons/t;e.win_percent=n.toFixed(2),e.surnames=r.me.account_info.account_info_fullName.substr(r.me.account_info.account_info_fullName.indexOf(" ")+1)}),t({url:"/API/me/position",method:"GET"}).success(function(n){
e.position=n,t({url:"/API/users/"+r.me.account_id+"/achievements",method:"GET"}).success(function(t){e.achievements=t})}),e.phraseModel="";var i=!1,s="",o=null;Phrase=function(e){s=e.value},e.changePersonalPhrase=function(t){0==i&&(e.display_save="",o=t.target,s=t.target.innerHTML,t.target.innerHTML='<textarea style="\n						font-size: 16px;\n						font-style: italic;\n						max-width: 315px;\n						line-height: 20px;\n						color: #5b5b5b;\n						display: inline-block;\n						border: 0;\n						overflow: hidden;\n						background-color: transparent;\n						resize: none;\n						padding: 0;\n						white-space: normal;\n						width: 315px;\n						min-height: 70px;\n						text-align: center;\n					" oninput="Phrase(this)">'+t.target.innerHTML+"</textarea>",i=!0)},e.changePersonalPhraseAction=function(){if(1==i){var n={phrase:s};t({url:"/API/changephrase",method:"PUT",data:n}).success(function(e){}),e.display_save="display_none",""==s?o.innerHTML="Add a personal phrase":o.innerHTML=s,i=!1}}}}]),johnvspaul.controller("AchievementsController",["$scope","$http","me",function(e,t,n){window.openclose._reset(),t({url:"/API/users/"+n.me.account_id+"/achievements",method:"GET"}).success(function(t){e.achievements=t})}]),johnvspaul.controller("OpponentsController",["$scope","$http","socket","me",function(e,t,n,r){window.openclose._reset(),r.loadMe(function(){e.account=r,t({url:"/API/users",method:"GET"}).success(function(t){e.users=t;for(var n=0;n!=t.length;n++)if(t[n].account_id===r.me.account_id){t.splice(n,1);break}})}),e.challengeUserStart=function(e){n&&t({url:"/API/users/"+e.account_id+"/challengestoaccept",method:"GET"}).success(function(t){t>=10?window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">El contrincante ha alcanzado el límite de '+t+" retos pendientes.</div>"):n.emit("challenge",{code:2350,current_step_client:0,direct_user_info:e})})}}]),johnvspaul.controller("LeaderboardController",["$scope","$http","socket","me",function(e,t,n,r){window.openclose._reset(),r.loadMe(function(){e.account=r,t({url:"/API/users",method:"GET"}).success(function(t){t.push(r.me),e.users=t,console.log(t)})}),e.challengeUserStart=function(e){n&&t({url:"/API/users/"+e.account_id+"/challengestoaccept",method:"GET"}).success(function(t){t>=10?window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">El contrincante ha alcanzado el límite de '+t+" retos pendientes.</div>"):n.emit("challenge",{code:2350,current_step_client:0,direct_user_info:e})})}}]),johnvspaul.controller("ChallengesController",["$scope","$http","challenges","me",function(e,t,n,r){window.openclose._reset(),r.loadMe(function(){e.account=r,n.loadChallenges(function(){e.challenge_filter=function(e){return e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id||e.challenge_participants.challenge_participants_challenged.account_id==r.me.account_id},e.challenges=n.challenges},!0)}),e.change_challenge_filter=function(t){switch(t){case 0:e.challenge_filter=function(e){return e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id||e.challenge_participants.challenge_participants_challenged.account_id==r.me.account_id};break;case 1:e.challenge_filter=function(e){return e.challenge_participants.challenge_participants_challenger.winner===!0?e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id?e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id:void 0:e.challenge_participants.challenge_participants_challenged.winner===!0&&e.challenge_participants.challenge_participants_challenged.account_id==r.me.account_id?e.challenge_participants.challenge_participants_challenged.account_id==r.me.account_id:void 0};break;case 2:e.challenge_filter=function(e){return e.challenge_participants.challenge_participants_challenger.winner===!1&&-1!==e.challenge_end_date?e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id?e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id:void 0:e.challenge_participants.challenge_participants_challenged.winner===!1&&-1!==e.challenge_end_date&&e.challenge_participants.challenge_participants_challenged.account_id==r.me.account_id?e.challenge_participants.challenge_participants_challenged.account_id==r.me.account_id:void 0};break;case 3:e.challenge_filter=function(e){return e.challenge_participants.challenge_participants_challenger.account_id==r.me.account_id&&0==e.challenge_participants.challenge_participants_challenger.winner&&0==e.challenge_participants.challenge_participants_challenged.winner}}},e.ToggleFilterTooltip=function(){e.showFilter=!e.showFilter},e.sendPoke=function(e,n){console.log(e),t({url:"/API/poke",method:"POST",data:n}).success(function(t){-1===t.response?window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">Error del sistema! Por favor, inténtalo más tarde</div>'):0===t.response?window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">¡Ya has enviado un zumbido a este usuario en este reto!</div>'):1===t.response&&(window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">Zumbido enviado con éxito!</div>'),classie.addClass(e.target,"poke_user_animation"))})},e.challengeOverlay=function(e,t){"undefined"==typeof e.overlayChallenge?e.overlayChallenge="open":"open"===e.overlayChallenge?e.overlayChallenge="":""===e.overlayChallenge&&(e.overlayChallenge="open")}}]);var loader=new SVGLoader(document.getElementById("loader"),{speedIn:300,easingIn:mina.easeinout}),challenge_variabiles={current_step_client:0,busy_button:!1,users_fromserver:[],challenge_started:!1,current_challenge_client:0,answer_selected:!1,first_question:!1,user_challenge_data:null,direct_user:!1};RemoveChallengeData=function(){challenge_variabiles.user_challenge_data=null},InitChallengeData=function(){challenge_variabiles.challenge_started=!1,challenge_variabiles.busy_button=!1,challenge_variabiles.users_fromserver=[],challenge_variabiles.answer_selected=!1,challenge_variabiles.first_question=!1,challenge_variabiles.current_challenge_client=0,challenge_variabiles.direct_user=!1,challenge_variabiles.user_challenge_data={category:{category_previous:null,category_name:"",category_id:null},user:{user_previous:null,user_fullName:"",user_nominative:"",user_familyName:"",user_job_type:"",user_id:null,user_step:0,user_max:null},challenge_timer:null,question_time:0}},johnvspaul.controller("ChallengeController",["$scope","$http","socket","sounds","challenges",function(e,t,n,r,a){var i=document.getElementById("ChallengeOverlay");document.getElementById("ChallengeOverlayContent");e.challenge_message="",e.challengeSelectCategory=function(t){challenge_variabiles.user_challenge_data.category.category_previous&&(challenge_variabiles.user_challenge_data.category.category_previous.isSelected=""),t.isSelected="active",challenge_variabiles.user_challenge_data.category.category_name=t.category_name,challenge_variabiles.user_challenge_data.category.category_id=t.category_id,e.challenge_message="Has seleccionado a "+challenge_variabiles.user_challenge_data.category.category_name+", pulsa siguiente",challenge_variabiles.user_challenge_data.category.category_previous=t},e.selectOpponentNext=function(){challenge_variabiles.user_challenge_data.user.user_step<challenge_variabiles.user_challenge_data.user.user_max-2&&(challenge_variabiles.user_challenge_data.user.user_step=challenge_variabiles.user_challenge_data.user.user_step+1,e.left_user_class="",e.left_user=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step],e.center_user=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1],challenge_variabiles.user_challenge_data.user.user_step<challenge_variabiles.user_challenge_data.user.user_max-2?e.right_user=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+2]:e.right_user_class="options_none",challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_id)},e.selectOpponentBack=function(){challenge_variabiles.user_challenge_data.user.user_step>-1&&(challenge_variabiles.user_challenge_data.user.user_step=challenge_variabiles.user_challenge_data.user.user_step-1,e.right_user_class="",challenge_variabiles.user_challenge_data.user.user_step>-1?e.left_user=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step]:e.left_user_class="options_none",e.center_user=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1],e.right_user=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+2],challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[challenge_variabiles.user_challenge_data.user.user_step+1].account_id)},e.userRandom=function(){t({url:"/API/users",method:"GET"}).success(function(t){e.challenge_message="Has seleccionado un usuario aleatorio, pulsa empezar",challenge_variabiles.users_fromserver=t;var n=~~(Math.random()*t.length);e.left_user=null,e.center_user=challenge_variabiles.users_fromserver[n],e.right_user=null,e.right_user_class="options_none",e.left_user_class="options_none",challenge_variabiles.user_challenge_data.user.user_step=n,challenge_variabiles.user_challenge_data.user.user_max=challenge_variabiles.users_fromserver.length,challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[n].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[n].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[n].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[n].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[n].account_id})},e.inputChangeUser=function(){""==e.inputChangeUserModel?t({url:"/API/users",method:"GET"}).success(function(t){e.challenge_message="Selecciona un contrincante",challenge_variabiles.users_fromserver=t,e.left_user=challenge_variabiles.users_fromserver[0],e.center_user=challenge_variabiles.users_fromserver[1],e.right_user=challenge_variabiles.users_fromserver[2],e.right_user_class="",e.left_user_class="",challenge_variabiles.user_challenge_data.user.user_step=0,challenge_variabiles.user_challenge_data.user.user_max=challenge_variabiles.users_fromserver.length,challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[1].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[1].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[1].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[1].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[1].account_id}):t({url:"/API/users/filter/"+e.inputChangeUserModel,method:"GET"}).success(function(t){challenge_variabiles.users_fromserver=t,t.length>2?(e.challenge_message="Selecciona un contrincante",e.left_user=challenge_variabiles.users_fromserver[0],e.center_user=challenge_variabiles.users_fromserver[1],e.right_user=challenge_variabiles.users_fromserver[2],e.right_user_class="",e.left_user_class="",challenge_variabiles.user_challenge_data.user.user_step=0,challenge_variabiles.user_challenge_data.user.user_max=challenge_variabiles.users_fromserver.length,challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[1].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[1].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[1].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[1].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[1].account_id):2==t.length?(e.challenge_message="Selecciona un contrincante",e.left_user=challenge_variabiles.users_fromserver[0],e.center_user=challenge_variabiles.users_fromserver[1],e.right_user=null,e.right_user_class="options_none",e.left_user_class="",challenge_variabiles.user_challenge_data.user.user_step=0,challenge_variabiles.user_challenge_data.user.user_max=challenge_variabiles.users_fromserver.length,challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[1].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[1].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[1].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[1].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[1].account_id):1==t.length?(e.challenge_message="Presiona Empezar ahora",e.left_user=null,e.center_user=challenge_variabiles.users_fromserver[0],e.right_user=null,e.right_user_class="options_none",e.left_user_class="options_none",challenge_variabiles.user_challenge_data.user.user_step=0,challenge_variabiles.user_challenge_data.user.user_max=challenge_variabiles.users_fromserver.length,challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[0].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[0].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[0].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[0].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[0].account_id):0==t.length&&(e.challenge_message="No se han encontrado usuarios",e.left_user=null,e.center_user={account_id:"profile_pic"},e.right_user=null,e.right_user_class="options_none",e.left_user_class="options_none",challenge_variabiles.user_challenge_data.user.user_step=0,challenge_variabiles.user_challenge_data.user.user_max=null,challenge_variabiles.user_challenge_data.user.user_fullName=null,challenge_variabiles.user_challenge_data.user.user_nominative=null,challenge_variabiles.user_challenge_data.user.user_familyName=null,challenge_variabiles.user_challenge_data.user.user_job_type=null,challenge_variabiles.user_challenge_data.user.user_id=null)})},e.challengeStartButton=function(){null!=challenge_variabiles.user_challenge_data.user.user_id&&t({url:"/API/users/"+challenge_variabiles.user_challenge_data.user.user_id+"/challengestoaccept",method:"GET"}).success(function(t){t>=10?e.challenge_message="El contrincante ha alcanzado el límite de "+t+" retos pendientes.":n.emit("challenge",{code:2356,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data})})},e.challengeSelectAnswer=function(t,r){if(0==challenge_variabiles.busy_button){clearInterval(challenge_variabiles.user_challenge_data.challenge_timer),e.progress_bar="",t.isSelected="answer_selected_pending";var a=Math.floor(Date.now()/1e3)-challenge_variabiles.user_challenge_data.question_time;challenge_variabiles.user_challenge_data.question_time=0,n.emit("challenge",{code:2401,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data,check_answer:t,check_question:r,seconds:a}),challenge_variabiles.busy_button=!0,challenge_variabiles.answer_selected=!0}},e.challengeNextButton=function(){challenge_variabiles.busy_button===!1&&(null!=challenge_variabiles.user_challenge_data.category.category_id?(challenge_variabiles.busy_button=!0,1==challenge_variabiles.direct_user?n.emit("challenge",{code:2356,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data,direct_user:!0}):n.emit("challenge",{code:2356,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data})):e.challenge_message="Por favor, selecciona una categoría")},e.challengeBackButton=function(){challenge_variabiles.busy_button===!1&&(challenge_variabiles.busy_button=!0,n.emit("challenge",{code:2360,current_step_client:challenge_variabiles.current_step_client}))},e.challengeNextQuestion=function(){1==challenge_variabiles.answer_selected&&n.emit("challenge",{code:2400,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data})},e.challengeOverlayClose=function(){n.emit("challenge",{code:2357,current_step_client:challenge_variabiles.current_step_client})},e.challengeEnd=function(){n.emit("challenge",{code:2400,current_step_client:challenge_variabiles.current_step_client})},challenge_timer=function(t){var r=setTimeout(function(){var r=Math.floor(Date.now()/1e3)-challenge_variabiles.user_challenge_data.question_time;challenge_variabiles.user_challenge_data.question_time=0,n.emit("challenge",{code:2401,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data,check_question:t,wrong_endtime:!0,seconds:r}),challenge_variabiles.busy_button=!0,challenge_variabiles.answer_selected=!0,e.progress_bar=""},3e4);return r},shuffle_array=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},n.on("challenge",function(s){if(s&&"undefined"!=typeof s.state&&"undefined"!=typeof s.allow&&"undefined"!=typeof s.current_step_server)if(1===s.allow)if(1===s.state)challenge_variabiles.current_step_client=s.current_step_server,loader.show(),e.category_selector_fx="challenge_fade_right",setTimeout(function(){InitChallengeData(),t({url:"/API/categories",method:"GET"}).success(function(t){e.category_selector_show="display",e.opponent_selector_show="",e.question_answers_show="",e.final_show="",e.challenge_message="Select a category","undefined"==typeof s.direct_user_info?e.category_special_text="Next":(challenge_variabiles.direct_user=!0,challenge_variabiles.user_challenge_data.user.user_max=1,challenge_variabiles.user_challenge_data.user.user_fullName=s.direct_user_info.account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=s.direct_user_info.account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=s.direct_user_info.account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=s.direct_user_info.account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=s.direct_user_info.account_id,e.category_special_text="¡Empezar ahora!"),e.progress_1="",e.progress_2="",e.progress_3="",e.progress_4="",e.challenge_categories=t,e.$apply(),classie.addClass(i,"show"),setTimeout(function(){loader.hide(),challenge_variabiles.busy_button=!1},400)})},800);else if(2===s.state)challenge_variabiles.current_step_client=s.current_step_server,e.category_selector_fx="challenge_fade_left",e.opponent_selector_fx="challenge_fade_right",setTimeout(function(){t({url:"/API/users",method:"GET"}).success(function(t){e.category_selector_show="",e.opponent_selector_show="display",e.question_answers_show="",e.final_show="",e.challenge_message="Selecciona un contrincante",challenge_variabiles.users_fromserver=t,e.left_user=challenge_variabiles.users_fromserver[0],e.center_user=challenge_variabiles.users_fromserver[1],e.right_user=challenge_variabiles.users_fromserver[2],e.right_user_class="",e.left_user_class="",challenge_variabiles.user_challenge_data.user.user_max=challenge_variabiles.users_fromserver.length,challenge_variabiles.user_challenge_data.user.user_fullName=challenge_variabiles.users_fromserver[1].account_info.account_info_fullName,challenge_variabiles.user_challenge_data.user.user_nominative=challenge_variabiles.users_fromserver[1].account_info.account_info_nominative,challenge_variabiles.user_challenge_data.user.user_familyName=challenge_variabiles.users_fromserver[1].account_info.account_info_familyName,challenge_variabiles.user_challenge_data.user.user_job_type=challenge_variabiles.users_fromserver[1].account_job.account_job_type,challenge_variabiles.user_challenge_data.user.user_id=challenge_variabiles.users_fromserver[1].account_id,setTimeout(function(){e.opponent_selector_fx="challenge_fade_right",e.$apply(),challenge_variabiles.busy_button=!1},400)})},800);else if(3===s.state)if(challenge_variabiles.current_step_client=s.current_step_server,challenge_variabiles.challenge_started!==!1){if(s.correct===!1){switch(r.sounds[9].play(),challenge_variabiles.current_challenge_client){case 0:e.progress_1="answer_wrong";break;case 1:e.progress_2="answer_wrong";break;case 2:e.progress_3="answer_wrong";break;case 3:e.progress_4="answer_wrong"}for(var o=0;o!=e.answers.length;o++)"undefined"!=typeof s.clicked_answer?e.answers[o].id===s.clicked_answer.id?e.answers[o].isSelected="answer_selected_wrong":e.answers[o].id===s.correct_id?e.answers[o].isSelected="answer_selected_correct":e.answers[o].isSelected="answer_selected_pending":e.answers[o].id===s.correct_id?e.answers[o].isSelected="answer_selected_correct":e.answers[o].isSelected="answer_selected_wrong"}else if(s.correct===!0){switch(r.sounds[8].play(),challenge_variabiles.current_challenge_client){case 0:e.progress_1="answer_correct";break;case 1:e.progress_2="answer_correct";break;case 2:e.progress_3="answer_correct";break;case 3:e.progress_4="answer_correct"}for(var o=0;o!=e.answers.length;o++)e.answers[o].id===s.correct_id?e.answers[o].isSelected="answer_selected_correct":e.answers[o].isSelected="answer_selected_pending"}challenge_variabiles.current_challenge_client++}else challenge_variabiles.challenge_started=!0,n.emit("challenge",{code:2400,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data});else 4===s.state?0==challenge_variabiles.first_question?(e.question_answers_fx="challenge_fade_right",loader.show(),setTimeout(function(){e.category_selector_show="",e.opponent_selector_show="",e.question_answers_show="display",e.final_show="",s.question.answers=shuffle_array(s.question.answers),e.answers=s.question.answers,e.question=s.question,s.question.challenge_step==s.question.max_questions-1?e.button_text="Terminar reto":e.button_text="Siguiente pregunta",setTimeout(function(){loader.hide(),challenge_variabiles.busy_button=!1,challenge_variabiles.answer_selected=!1,challenge_variabiles.user_challenge_data.challenge_timer=challenge_timer(s.question),challenge_variabiles.user_challenge_data.question_time=Math.floor(Date.now()/1e3),e.progress_bar="progress_tozero",e.$apply()},400)},400),challenge_variabiles.first_question=!0):(e.question_answers_fx="challenge_fade_left",setTimeout(function(){e.category_selector_show="",e.opponent_selector_show="",e.question_answers_show="display",e.final_show="",s.question.answers=shuffle_array(s.question.answers),e.answers=s.question.answers,e.question=s.question,s.question.challenge_step==s.question.max_questions-1?e.button_text="Terminar reto":e.button_text="Siguiente pregunta",setTimeout(function(){e.question_answers_fx="challenge_fade_right",challenge_variabiles.busy_button=!1,challenge_variabiles.answer_selected=!1,challenge_variabiles.user_challenge_data.challenge_timer=challenge_timer(s.question),challenge_variabiles.user_challenge_data.question_time=Math.floor(Date.now()/1e3),e.progress_bar="progress_tozero",e.$apply()},400)},800)):5===s.state?(challenge_variabiles.current_step_client=s.current_step_server,loader.show(),setTimeout(function(){e.category_selector_show="",e.opponent_selector_show="",e.question_answers_show="",e.final_show="display";for(var t=0,n=0,r=0,a=0;a!=s.current_challenge.challenge_participants.challenge_participants_challenger.answersTime.length;a++)t+=s.current_challenge.challenge_participants.challenge_participants_challenger.answersTime[a];e.answers_time=t;for(var a=0;a!=s.current_challenge.challenge_participants.challenge_participants_challenger.answers.length;a++)1==s.current_challenge.challenge_participants.challenge_participants_challenger.answers[a]?n++:r++;e.answers_correct=n,e.answers_wrong=r,e.$apply(),setTimeout(function(){loader.hide(),challenge_variabiles.busy_button=!1},400)},400)):255===s.state&&(challenge_variabiles.current_step_client=s.current_step_server,loader.show(),setTimeout(function(){RemoveChallengeData(),classie.removeClass(i,"show"),a.resetChallenges(function(){no_update_busy=!1}),setTimeout(function(){loader.hide()},400)},400));else loader.show(),setTimeout(function(){RemoveChallengeData(),classie.removeClass(i,"show"),a.resetChallenges(function(){no_update_busy=!1}),setTimeout(function(){loader.hide(),s.error&&window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">'+s.error+"</div>")},400)},400)})}]),johnvspaul.controller("ChallengeAcceptController",["$scope","$http","socket","sounds","challenges",function(e,t,n,r,a){var i=document.getElementById("ChallengeAcceptOverlay");document.getElementById("ChallengeAcceptOverlayContent");shuffle_array=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},e.challengeRevenge=function(e){n.emit("challengeAccept",{code:5400,current_step_client:challenge_variabiles.current_step_client,revenge:e})},e.challengeEnd=function(){console.log("Challenge end clicked"),n.emit("challengeAccept",{code:5400,current_step_client:challenge_variabiles.current_step_client})},e.challengeNextQuestion=function(){1==challenge_variabiles.answer_selected&&n.emit("challengeAccept",{code:5400,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data})},e.challengeSelectAnswer=function(t,r){if(0==challenge_variabiles.busy_button){clearInterval(challenge_variabiles.user_challenge_data.challenge_timer),e.progress_bar="",t.isSelected="answer_selected_pending";var a=Math.floor(Date.now()/1e3)-challenge_variabiles.user_challenge_data.question_time;challenge_variabiles.user_challenge_data.question_time=0,n.emit("challengeAccept",{code:5401,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data,check_answer:t,check_question:r,seconds:a}),challenge_variabiles.busy_button=!0,challenge_variabiles.answer_selected=!0}},e.challengeOverlayClose=function(){n.emit("challengeAccept",{code:5357,current_step_client:challenge_variabiles.current_step_client})},e.challengeStartButton=function(){console.log("BUTTON PRESSED"),n.emit("challengeAccept",{code:5001,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data})},challenge_timer_accept=function(t){var r=setTimeout(function(){var r=Math.floor(Date.now()/1e3)-challenge_variabiles.user_challenge_data.question_time;challenge_variabiles.user_challenge_data.question_time=0,n.emit("challengeAccept",{code:5401,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data,check_question:t,wrong_endtime:!0,seconds:r}),challenge_variabiles.busy_button=!0,challenge_variabiles.answer_selected=!0,e.progress_bar=""},3e4);return r},n.on("challengeAccept",function(s){if(s&&"undefined"!=typeof s.state&&"undefined"!=typeof s.allow&&"undefined"!=typeof s.current_step_server)if(1===s.allow)if(2===s.state)challenge_variabiles.current_step_client=s.current_step_server,loader.show(),setTimeout(function(){InitChallengeData(),e.accept_selector_show="display",e.question_answers_show="",e.final_show="",e.challenge_message="Aceptar este reto",e.progress_1="",e.progress_2="",e.progress_3="",e.progress_4="",e.challenge_info=s.challenge_info,challenge_variabiles.user_challenge_data.challenge_id=s.challenge_info.challenge_id,classie.addClass(i,"show"),setTimeout(function(){loader.hide(),e.$apply(),challenge_variabiles.busy_button=!1},400)},800);else if(3===s.state)if(challenge_variabiles.current_step_client=s.current_step_server,challenge_variabiles.challenge_started!==!1){if(s.correct===!1){switch(r.sounds[9].play(),challenge_variabiles.current_challenge_client){case 0:e.progress_1="answer_wrong";break;case 1:e.progress_2="answer_wrong";break;case 2:e.progress_3="answer_wrong";break;case 3:e.progress_4="answer_wrong"}for(var o=0;o!=e.answers.length;o++)"undefined"!=typeof s.clicked_answer?e.answers[o].id===s.clicked_answer.id?e.answers[o].isSelected="answer_selected_wrong":e.answers[o].id===s.correct_id?e.answers[o].isSelected="answer_selected_correct":e.answers[o].isSelected="answer_selected_pending":e.answers[o].id===s.correct_id?e.answers[o].isSelected="answer_selected_correct":e.answers[o].isSelected="answer_selected_wrong"}else if(s.correct===!0){switch(r.sounds[8].play(),challenge_variabiles.current_challenge_client){case 0:e.progress_1="answer_correct";break;case 1:e.progress_2="answer_correct";break;case 2:e.progress_3="answer_correct";break;case 3:e.progress_4="answer_correct"}for(var o=0;o!=e.answers.length;o++)e.answers[o].id===s.correct_id?e.answers[o].isSelected="answer_selected_correct":e.answers[o].isSelected="answer_selected_pending";
}challenge_variabiles.current_challenge_client++}else console.log("CHALLENGE! started"),challenge_variabiles.challenge_started=!0,n.emit("challengeAccept",{code:5400,current_step_client:challenge_variabiles.current_step_client,user_challenge_data:challenge_variabiles.user_challenge_data});else 4===s.state?0==challenge_variabiles.first_question?(e.question_answers_fx="challenge_fade_right",loader.show(),setTimeout(function(){e.accept_selector_show="",e.question_answers_show="display",e.final_show="",s.question.answers=shuffle_array(s.question.answers),e.answers=s.question.answers,e.question=s.question,s.question.challenge_step==s.question.max_questions-1?e.button_text="Terminar reto":e.button_text="Siguiente pregunta",setTimeout(function(){loader.hide(),challenge_variabiles.busy_button=!1,challenge_variabiles.answer_selected=!1,challenge_variabiles.user_challenge_data.challenge_timer=challenge_timer_accept(s.question),challenge_variabiles.user_challenge_data.question_time=Math.floor(Date.now()/1e3),e.progress_bar="progress_tozero",e.$apply()},400)},400),challenge_variabiles.first_question=!0):(e.question_answers_fx="challenge_fade_left",setTimeout(function(){e.accept_selector_show="",e.question_answers_show="display",e.final_show="",s.question.answers=shuffle_array(s.question.answers),e.answers=s.question.answers,e.question=s.question,s.question.challenge_step==s.question.max_questions-1?e.button_text="Terminar reto":e.button_text="Siguiente pregunta",setTimeout(function(){e.question_answers_fx="challenge_fade_right",challenge_variabiles.busy_button=!1,challenge_variabiles.answer_selected=!1,challenge_variabiles.user_challenge_data.challenge_timer=challenge_timer_accept(s.question),challenge_variabiles.user_challenge_data.question_time=Math.floor(Date.now()/1e3),e.progress_bar="progress_tozero",e.$apply()},400)},800)):5===s.state?(challenge_variabiles.current_step_client=s.current_step_server,loader.show(),setTimeout(function(){e.accept_selector_show="",e.question_answers_show="",e.final_show="display";for(var t=0,n=0,r=0,a=0;a!=s.current_challenge.challenge_participants.challenge_participants_challenger.answersTime.length;a++)t+=s.current_challenge.challenge_participants.challenge_participants_challenger.answersTime[a];e.answers_time_challenger=t;for(var a=0;a!=s.current_challenge.challenge_participants.challenge_participants_challenger.answers.length;a++)1==s.current_challenge.challenge_participants.challenge_participants_challenger.answers[a]?n++:r++;e.answers_correct_challenger=n,e.answers_wrong_challenger=r,t=0,n=0,r=0;for(var a=0;a!=s.current_challenge.challenge_participants.challenge_participants_challenged.answersTime.length;a++)t+=s.current_challenge.challenge_participants.challenge_participants_challenged.answersTime[a];e.answers_time_challenged=t;for(var a=0;a!=s.current_challenge.challenge_participants.challenge_participants_challenged.answers.length;a++)1==s.current_challenge.challenge_participants.challenge_participants_challenged.answers[a]?n++:r++;e.answers_correct_challenged=n,e.answers_wrong_challenged=r,e.current_challenge=s.current_challenge,console.log("You won",s.youwon),"undefined"!=typeof s.youwon?1==s.youwon?e.win_text="Felicidades, ¡has ganado!":e.win_text="Vaya… ¡perdiste!":1==s.tie&&(e.win_text="¡Has empatado!"),e.$apply(),setTimeout(function(){loader.hide(),challenge_variabiles.busy_button=!1},400)},400)):255===s.state&&(console.log("Challenge end triggered"),challenge_variabiles.current_step_client=s.current_step_server,loader.show(),setTimeout(function(){RemoveChallengeData(),classie.removeClass(i,"show"),a.resetChallenges(function(){no_update_busy=!1}),setTimeout(function(){loader.hide(),s.revenge&&t({url:"/API/users/"+s.revenge,method:"GET"}).success(function(e){n&&n.emit("challenge",{code:2350,current_step_client:0,direct_user_info:e})})},400)},400));else loader.show(),setTimeout(function(){RemoveChallengeData(),classie.removeClass(i,"show"),a.resetChallenges(function(){no_update_busy=!1}),setTimeout(function(){loader.hide(),s.error&&window.toast._create('<span class="toast_close"></span><div class="full_toast"><i class="fa fa-rocket"></i></div><div style="margin-left: 50px">'+s.error+"</div>")},400)},400)})}]),function(e){"use strict";function t(){var t=!1;return function(e){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||e.opera),t}function n(){this._init()}n.prototype._event=function(e){var t=0,n=null;if("undefined"!=typeof e.path){for(var r=0;r!=e.path.length;r++)if("openclose"===e.path[r].id){t=r;break}n=e.path[r].affect_e}else n=e.target.affect_e;e.stopPropagation(),e.preventDefault();for(var a=document.querySelectorAll(n),r=0;r<a.length;r++)classie.toggleClass(a[r],"open")},n.prototype._reset=function(){var e=this;this.buttons.forEach(function(t,n){t.removeEventListener(e.eventtype,e._event,!1)}),this.buttons=null,this.eventtype=null,this._init()},n.prototype._init=function(){this.buttons=Array.prototype.slice.call(document.querySelectorAll("#openclose")),this.eventtype=t()?"touchstart":"click",this.options=[];var e=this;this.buttons.forEach(function(t,n){var r=t.getAttribute("data-affect");t.addEventListener(e.eventtype,e._event),t.affect_e=r})},e.OpenClose=n}(window),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,a=window.console=window.console||{};r--;)e=n[r],a[e]||(a[e]=t)}(),window.onbeforeunload=function(){var e=$(".loading_scope");return e.hasClass("no_animations")?void 0:"You will lose the connection to the server, are you sure?"},window.header=new Header,window.openclose=new OpenClose,window.toast=new Toast,Pace.on("done",function(){var e=$(".loading_scope")[0];classie.addClass(e,"loading_done"),setTimeout(function(){classie.addClass(e,"extra_done_loading")},1200)});var XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];